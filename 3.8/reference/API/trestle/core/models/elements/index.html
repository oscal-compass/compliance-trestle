<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Documentation for trestle.core.models.elements module"><link href=https://oscal-compass.github.io/compliance-trestle/latest/reference/API/trestle/core/models/elements/ rel=canonical><link href=../actions/ rel=prev><link href=../file_content_type/ rel=next><link rel=icon href=../../../../../../assets/favicon.ico><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.6.9"><title>trestle.core.models.elements - Compliance Trestle</title><link rel=stylesheet href=../../../../../../assets/stylesheets/main.4af4bdda.min.css><link rel=stylesheet href=../../../../../../assets/stylesheets/palette.06af60db.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../../../../../../assets/_mkdocstrings.css><script>__md_scope=new URL("../../../../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><script id=__analytics>function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-XT3KGMHSY8"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-XT3KGMHSY8",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-XT3KGMHSY8",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script><script>if("undefined"!=typeof __md_analytics){var consent=__md_get("__consent");consent&&consent.analytics&&__md_analytics()}</script><meta property=og:type content=website><meta property=og:title content="trestle.core.models.elements - Compliance Trestle"><meta property=og:description content="Documentation for trestle.core.models.elements module"><meta property=og:image content=https://oscal-compass.github.io/compliance-trestle/latest/assets/images/social/reference/API/trestle/core/models/elements.png><meta property=og:image:type content=image/png><meta property=og:image:width content=1200><meta property=og:image:height content=630><meta content=https://oscal-compass.github.io/compliance-trestle/latest/reference/API/trestle/core/models/elements/ property=og:url><meta name=twitter:card content=summary_large_image><meta name=twitter:title content="trestle.core.models.elements - Compliance Trestle"><meta name=twitter:description content="Documentation for trestle.core.models.elements module"><meta name=twitter:image content=https://oscal-compass.github.io/compliance-trestle/latest/assets/images/social/reference/API/trestle/core/models/elements.png></head> <body dir=ltr data-md-color-scheme=slate data-md-color-primary=black data-md-color-accent=purple> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#trestle.core.models.elements class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <div data-md-color-scheme=default data-md-component=outdated hidden> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../../../../../.. title="Compliance Trestle" class="md-header__button md-logo" aria-label="Compliance Trestle" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> Compliance Trestle </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> trestle.core.models.elements </span> </div> </div> </div> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/oscal-compass/compliance-trestle title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg> </div> <div class=md-source__repository> oscal-compass/compliance-trestle </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../../../../../.. class=md-tabs__link> Overview </a> </li> <li class=md-tabs__item> <a href=../../../../../../demos/ class=md-tabs__link> Demos </a> </li> <li class=md-tabs__item> <a href=../../../../../../installation/ class=md-tabs__link> Installation </a> </li> <li class=md-tabs__item> <a href=../../../../../../known_limitations/ class=md-tabs__link> Known Limitations </a> </li> <li class=md-tabs__item> <a href=../../../../../../license/ class=md-tabs__link> License </a> </li> <li class=md-tabs__item> <a href=../../../../../../contributing/ class=md-tabs__link> Contributing </a> </li> <li class=md-tabs__item> <a href=../../../../../../plugins/fedramp/ class=md-tabs__link> Plugins </a> </li> <li class="md-tabs__item md-tabs__item--active"> <a href=../../../../../third-party-result-schema-IBM-SCC/ class=md-tabs__link> Reference </a> </li> <li class=md-tabs__item> <a href=../../../../../../tutorials/cli/ class=md-tabs__link> Tutorials </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../../../../../.. title="Compliance Trestle" class="md-nav__button md-logo" aria-label="Compliance Trestle" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg> </a> Compliance Trestle </label> <div class=md-nav__source> <a href=https://github.com/oscal-compass/compliance-trestle title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg> </div> <div class=md-source__repository> oscal-compass/compliance-trestle </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../../.. class=md-nav__link> <span class=md-ellipsis> Overview </span> </a> </li> <li class=md-nav__item> <a href=../../../../../../demos/ class=md-nav__link> <span class=md-ellipsis> Demos </span> </a> </li> <li class=md-nav__item> <a href=../../../../../../installation/ class=md-nav__link> <span class=md-ellipsis> Installation </span> </a> </li> <li class=md-nav__item> <a href=../../../../../../known_limitations/ class=md-nav__link> <span class=md-ellipsis> Known Limitations </span> </a> </li> <li class=md-nav__item> <a href=../../../../../../license/ class=md-nav__link> <span class=md-ellipsis> License </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6> <label class=md-nav__link for=__nav_6 id=__nav_6_label tabindex=0> <span class=md-ellipsis> Contributing </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_6_label aria-expanded=false> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> Contributing </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../../../contributing/ class=md-nav__link> <span class=md-ellipsis> Overview </span> </a> </li> <li class=md-nav__item> <a href=../../../../../../contributing/code_of_conduct/ class=md-nav__link> <span class=md-ellipsis> Code of Conduct </span> </a> </li> <li class=md-nav__item> <a href=../../../../../../contributing/oscal_object_model/ class=md-nav__link> <span class=md-ellipsis> OSCAL object model </span> </a> </li> <li class=md-nav__item> <a href=../../../../../../contributing/website/ class=md-nav__link> <span class=md-ellipsis> Website development </span> </a> </li> <li class=md-nav__item> <a href=../../../../../../contributing/plugins/ class=md-nav__link> <span class=md-ellipsis> Developing trestle plugins </span> </a> </li> <li class=md-nav__item> <a href=https://github.com/oscal-compass/compliance-trestle/graphs/contributors class=md-nav__link> <span class=md-ellipsis> Contributors </span> </a> </li> <li class=md-nav__item> <a href=../../../../../../contributing/maintainers/ class=md-nav__link> <span class=md-ellipsis> Maintainers </span> </a> </li> <li class=md-nav__item> <a href=../../../../../../contributing/DCO/ class=md-nav__link> <span class=md-ellipsis> Developer Certificate of Originality </span> </a> </li> <li class=md-nav__item> <a href=../../../../../../contributing/github_actions_setup/ class=md-nav__link> <span class=md-ellipsis> GitHub actions </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_7> <label class=md-nav__link for=__nav_7 id=__nav_7_label tabindex=0> <span class=md-ellipsis> Plugins </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_7_label aria-expanded=false> <label class=md-nav__title for=__nav_7> <span class="md-nav__icon md-icon"></span> Plugins </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../../../plugins/fedramp/ class=md-nav__link> <span class=md-ellipsis> FedRAMP plugin </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_8 checked> <label class=md-nav__link for=__nav_8 id=__nav_8_label tabindex> <span class=md-ellipsis> Reference </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_8_label aria-expanded=true> <label class=md-nav__title for=__nav_8> <span class="md-nav__icon md-icon"></span> Reference </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../../third-party-result-schema-IBM-SCC/ class=md-nav__link> <span class=md-ellipsis> IBM SCC assessment results integration </span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_8_2 checked> <label class=md-nav__link for=__nav_8_2 id=__nav_8_2_label tabindex=0> <span class=md-ellipsis> API </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_8_2_label aria-expanded=true> <label class=md-nav__title for=__nav_8_2> <span class="md-nav__icon md-icon"></span> API </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_8_2_1 checked> <label class=md-nav__link for=__nav_8_2_1 id=__nav_8_2_1_label tabindex=0> <span class=md-ellipsis> Trestle </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_8_2_1_label aria-expanded=true> <label class=md-nav__title for=__nav_8_2_1> <span class="md-nav__icon md-icon"></span> Trestle </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../cli/ class=md-nav__link> <span class=md-ellipsis> trestle.cli </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_8_2_1_2> <label class=md-nav__link for=__nav_8_2_1_2 id=__nav_8_2_1_2_label tabindex=0> <span class=md-ellipsis> Common </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=4 aria-labelledby=__nav_8_2_1_2_label aria-expanded=false> <label class=md-nav__title for=__nav_8_2_1_2> <span class="md-nav__icon md-icon"></span> Common </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../common/common_types/ class=md-nav__link> <span class=md-ellipsis> trestle.common.common_types </span> </a> </li> <li class=md-nav__item> <a href=../../../common/const/ class=md-nav__link> <span class=md-ellipsis> trestle.common.const </span> </a> </li> <li class=md-nav__item> <a href=../../../common/err/ class=md-nav__link> <span class=md-ellipsis> trestle.common.err </span> </a> </li> <li class=md-nav__item> <a href=../../../common/file_utils/ class=md-nav__link> <span class=md-ellipsis> trestle.common.file_utils </span> </a> </li> <li class=md-nav__item> <a href=../../../common/list_utils/ class=md-nav__link> <span class=md-ellipsis> trestle.common.list_utils </span> </a> </li> <li class=md-nav__item> <a href=../../../common/load_validate/ class=md-nav__link> <span class=md-ellipsis> trestle.common.load_validate </span> </a> </li> <li class=md-nav__item> <a href=../../../common/log/ class=md-nav__link> <span class=md-ellipsis> trestle.common.log </span> </a> </li> <li class=md-nav__item> <a href=../../../common/model_utils/ class=md-nav__link> <span class=md-ellipsis> trestle.common.model_utils </span> </a> </li> <li class=md-nav__item> <a href=../../../common/str_utils/ class=md-nav__link> <span class=md-ellipsis> trestle.common.str_utils </span> </a> </li> <li class=md-nav__item> <a href=../../../common/trash/ class=md-nav__link> <span class=md-ellipsis> trestle.common.trash </span> </a> </li> <li class=md-nav__item> <a href=../../../common/type_utils/ class=md-nav__link> <span class=md-ellipsis> trestle.common.type_utils </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_8_2_1_3 checked> <label class=md-nav__link for=__nav_8_2_1_3 id=__nav_8_2_1_3_label tabindex=0> <span class=md-ellipsis> Core </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=4 aria-labelledby=__nav_8_2_1_3_label aria-expanded=true> <label class=md-nav__title for=__nav_8_2_1_3> <span class="md-nav__icon md-icon"></span> Core </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../all_validator/ class=md-nav__link> <span class=md-ellipsis> trestle.core.all_validator </span> </a> </li> <li class=md-nav__item> <a href=../../base_model/ class=md-nav__link> <span class=md-ellipsis> trestle.core.base_model </span> </a> </li> <li class=md-nav__item> <a href=../../catalog_validator/ class=md-nav__link> <span class=md-ellipsis> trestle.core.catalog_validator </span> </a> </li> <li class=md-nav__item> <a href=../../control_context/ class=md-nav__link> <span class=md-ellipsis> trestle.core.control_context </span> </a> </li> <li class=md-nav__item> <a href=../../control_interface/ class=md-nav__link> <span class=md-ellipsis> trestle.core.control_interface </span> </a> </li> <li class=md-nav__item> <a href=../../control_reader/ class=md-nav__link> <span class=md-ellipsis> trestle.core.control_reader </span> </a> </li> <li class=md-nav__item> <a href=../../control_writer/ class=md-nav__link> <span class=md-ellipsis> trestle.core.control_writer </span> </a> </li> <li class=md-nav__item> <a href=../../docs_control_writer/ class=md-nav__link> <span class=md-ellipsis> trestle.core.docs_control_writer </span> </a> </li> <li class=md-nav__item> <a href=../../draw_io/ class=md-nav__link> <span class=md-ellipsis> trestle.core.draw_io </span> </a> </li> <li class=md-nav__item> <a href=../../duplicates_validator/ class=md-nav__link> <span class=md-ellipsis> trestle.core.duplicates_validator </span> </a> </li> <li class=md-nav__item> <a href=../../generators/ class=md-nav__link> <span class=md-ellipsis> trestle.core.generators </span> </a> </li> <li class=md-nav__item> <a href=../../generic_oscal/ class=md-nav__link> <span class=md-ellipsis> trestle.core.generic_oscal </span> </a> </li> <li class=md-nav__item> <a href=../../links_validator/ class=md-nav__link> <span class=md-ellipsis> trestle.core.links_validator </span> </a> </li> <li class=md-nav__item> <a href=../../object_factory/ class=md-nav__link> <span class=md-ellipsis> trestle.core.object_factory </span> </a> </li> <li class=md-nav__item> <a href=../../parser/ class=md-nav__link> <span class=md-ellipsis> trestle.core.parser </span> </a> </li> <li class=md-nav__item> <a href=../../pipeline/ class=md-nav__link> <span class=md-ellipsis> trestle.core.pipeline </span> </a> </li> <li class=md-nav__item> <a href=../../plugins/ class=md-nav__link> <span class=md-ellipsis> trestle.core.plugins </span> </a> </li> <li class=md-nav__item> <a href=../../profile_resolver/ class=md-nav__link> <span class=md-ellipsis> trestle.core.profile_resolver </span> </a> </li> <li class=md-nav__item> <a href=../../refs_validator/ class=md-nav__link> <span class=md-ellipsis> trestle.core.refs_validator </span> </a> </li> <li class=md-nav__item> <a href=../../repository/ class=md-nav__link> <span class=md-ellipsis> trestle.core.repository </span> </a> </li> <li class=md-nav__item> <a href=../../rule_parameters_validator/ class=md-nav__link> <span class=md-ellipsis> trestle.core.rule_parameters_validator </span> </a> </li> <li class=md-nav__item> <a href=../../ssp_io/ class=md-nav__link> <span class=md-ellipsis> trestle.core.ssp_io </span> </a> </li> <li class=md-nav__item> <a href=../../trestle_base_model/ class=md-nav__link> <span class=md-ellipsis> trestle.core.trestle_base_model </span> </a> </li> <li class=md-nav__item> <a href=../../validator/ class=md-nav__link> <span class=md-ellipsis> trestle.core.validator </span> </a> </li> <li class=md-nav__item> <a href=../../validator_factory/ class=md-nav__link> <span class=md-ellipsis> trestle.core.validator_factory </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_8_2_1_3_26> <label class=md-nav__link for=__nav_8_2_1_3_26 id=__nav_8_2_1_3_26_label tabindex=0> <span class=md-ellipsis> Catalog </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=5 aria-labelledby=__nav_8_2_1_3_26_label aria-expanded=false> <label class=md-nav__title for=__nav_8_2_1_3_26> <span class="md-nav__icon md-icon"></span> Catalog </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../catalog/catalog_api/ class=md-nav__link> <span class=md-ellipsis> trestle.core.catalog.catalog_api </span> </a> </li> <li class=md-nav__item> <a href=../../catalog/catalog_interface/ class=md-nav__link> <span class=md-ellipsis> trestle.core.catalog.catalog_interface </span> </a> </li> <li class=md-nav__item> <a href=../../catalog/catalog_merger/ class=md-nav__link> <span class=md-ellipsis> trestle.core.catalog.catalog_merger </span> </a> </li> <li class=md-nav__item> <a href=../../catalog/catalog_reader/ class=md-nav__link> <span class=md-ellipsis> trestle.core.catalog.catalog_reader </span> </a> </li> <li class=md-nav__item> <a href=../../catalog/catalog_writer/ class=md-nav__link> <span class=md-ellipsis> trestle.core.catalog.catalog_writer </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_8_2_1_3_27> <label class=md-nav__link for=__nav_8_2_1_3_27 id=__nav_8_2_1_3_27_label tabindex=0> <span class=md-ellipsis> Commands </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=5 aria-labelledby=__nav_8_2_1_3_27_label aria-expanded=false> <label class=md-nav__title for=__nav_8_2_1_3_27> <span class="md-nav__icon md-icon"></span> Commands </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../commands/add/ class=md-nav__link> <span class=md-ellipsis> trestle.core.commands.add </span> </a> </li> <li class=md-nav__item> <a href=../../commands/assemble/ class=md-nav__link> <span class=md-ellipsis> trestle.core.commands.assemble </span> </a> </li> <li class=md-nav__item> <a href=../../commands/command_docs/ class=md-nav__link> <span class=md-ellipsis> trestle.core.commands.command_docs </span> </a> </li> <li class=md-nav__item> <a href=../../commands/create/ class=md-nav__link> <span class=md-ellipsis> trestle.core.commands.create </span> </a> </li> <li class=md-nav__item> <a href=../../commands/describe/ class=md-nav__link> <span class=md-ellipsis> trestle.core.commands.describe </span> </a> </li> <li class=md-nav__item> <a href=../../commands/href/ class=md-nav__link> <span class=md-ellipsis> trestle.core.commands.href </span> </a> </li> <li class=md-nav__item> <a href=../../commands/import_/ class=md-nav__link> <span class=md-ellipsis> trestle.core.commands.import_ </span> </a> </li> <li class=md-nav__item> <a href=../../commands/init/ class=md-nav__link> <span class=md-ellipsis> trestle.core.commands.init </span> </a> </li> <li class=md-nav__item> <a href=../../commands/merge/ class=md-nav__link> <span class=md-ellipsis> trestle.core.commands.merge </span> </a> </li> <li class=md-nav__item> <a href=../../commands/partial_object_validate/ class=md-nav__link> <span class=md-ellipsis> trestle.core.commands.partial_object_validate </span> </a> </li> <li class=md-nav__item> <a href=../../commands/remove/ class=md-nav__link> <span class=md-ellipsis> trestle.core.commands.remove </span> </a> </li> <li class=md-nav__item> <a href=../../commands/replicate/ class=md-nav__link> <span class=md-ellipsis> trestle.core.commands.replicate </span> </a> </li> <li class=md-nav__item> <a href=../../commands/split/ class=md-nav__link> <span class=md-ellipsis> trestle.core.commands.split </span> </a> </li> <li class=md-nav__item> <a href=../../commands/task/ class=md-nav__link> <span class=md-ellipsis> trestle.core.commands.task </span> </a> </li> <li class=md-nav__item> <a href=../../commands/validate/ class=md-nav__link> <span class=md-ellipsis> trestle.core.commands.validate </span> </a> </li> <li class=md-nav__item> <a href=../../commands/version/ class=md-nav__link> <span class=md-ellipsis> trestle.core.commands.version </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_8_2_1_3_27_17> <label class=md-nav__link for=__nav_8_2_1_3_27_17 id=__nav_8_2_1_3_27_17_label tabindex=0> <span class=md-ellipsis> Author </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=6 aria-labelledby=__nav_8_2_1_3_27_17_label aria-expanded=false> <label class=md-nav__title for=__nav_8_2_1_3_27_17> <span class="md-nav__icon md-icon"></span> Author </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../commands/author/catalog/ class=md-nav__link> <span class=md-ellipsis> trestle.core.commands.author.catalog </span> </a> </li> <li class=md-nav__item> <a href=../../commands/author/command/ class=md-nav__link> <span class=md-ellipsis> trestle.core.commands.author.command </span> </a> </li> <li class=md-nav__item> <a href=../../commands/author/common/ class=md-nav__link> <span class=md-ellipsis> trestle.core.commands.author.common </span> </a> </li> <li class=md-nav__item> <a href=../../commands/author/component/ class=md-nav__link> <span class=md-ellipsis> trestle.core.commands.author.component </span> </a> </li> <li class=md-nav__item> <a href=../../commands/author/consts/ class=md-nav__link> <span class=md-ellipsis> trestle.core.commands.author.consts </span> </a> </li> <li class=md-nav__item> <a href=../../commands/author/docs/ class=md-nav__link> <span class=md-ellipsis> trestle.core.commands.author.docs </span> </a> </li> <li class=md-nav__item> <a href=../../commands/author/folders/ class=md-nav__link> <span class=md-ellipsis> trestle.core.commands.author.folders </span> </a> </li> <li class=md-nav__item> <a href=../../commands/author/headers/ class=md-nav__link> <span class=md-ellipsis> trestle.core.commands.author.headers </span> </a> </li> <li class=md-nav__item> <a href=../../commands/author/jinja/ class=md-nav__link> <span class=md-ellipsis> trestle.core.commands.author.jinja </span> </a> </li> <li class=md-nav__item> <a href=../../commands/author/prof/ class=md-nav__link> <span class=md-ellipsis> trestle.core.commands.author.prof </span> </a> </li> <li class=md-nav__item> <a href=../../commands/author/ssp/ class=md-nav__link> <span class=md-ellipsis> trestle.core.commands.author.ssp </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_8_2_1_3_27_17_12> <label class=md-nav__link for=__nav_8_2_1_3_27_17_12 id=__nav_8_2_1_3_27_17_12_label tabindex=0> <span class=md-ellipsis> Versioning </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=7 aria-labelledby=__nav_8_2_1_3_27_17_12_label aria-expanded=false> <label class=md-nav__title for=__nav_8_2_1_3_27_17_12> <span class="md-nav__icon md-icon"></span> Versioning </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../commands/author/versioning/template_versioning/ class=md-nav__link> <span class=md-ellipsis> trestle.core.commands.author.versioning.template_versioning </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_8_2_1_3_27_18> <label class=md-nav__link for=__nav_8_2_1_3_27_18 id=__nav_8_2_1_3_27_18_label tabindex=0> <span class=md-ellipsis> Common </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=6 aria-labelledby=__nav_8_2_1_3_27_18_label aria-expanded=false> <label class=md-nav__title for=__nav_8_2_1_3_27_18> <span class="md-nav__icon md-icon"></span> Common </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../commands/common/cmd_utils/ class=md-nav__link> <span class=md-ellipsis> trestle.core.commands.common.cmd_utils </span> </a> </li> <li class=md-nav__item> <a href=../../commands/common/return_codes/ class=md-nav__link> <span class=md-ellipsis> trestle.core.commands.common.return_codes </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_8_2_1_3_28> <label class=md-nav__link for=__nav_8_2_1_3_28 id=__nav_8_2_1_3_28_label tabindex=0> <span class=md-ellipsis> Crm </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=5 aria-labelledby=__nav_8_2_1_3_28_label aria-expanded=false> <label class=md-nav__title for=__nav_8_2_1_3_28> <span class="md-nav__icon md-icon"></span> Crm </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../crm/bycomp_interface/ class=md-nav__link> <span class=md-ellipsis> trestle.core.crm.bycomp_interface </span> </a> </li> <li class=md-nav__item> <a href=../../crm/export_reader/ class=md-nav__link> <span class=md-ellipsis> trestle.core.crm.export_reader </span> </a> </li> <li class=md-nav__item> <a href=../../crm/export_writer/ class=md-nav__link> <span class=md-ellipsis> trestle.core.crm.export_writer </span> </a> </li> <li class=md-nav__item> <a href=../../crm/leveraged_statements/ class=md-nav__link> <span class=md-ellipsis> trestle.core.crm.leveraged_statements </span> </a> </li> <li class=md-nav__item> <a href=../../crm/ssp_inheritance_api/ class=md-nav__link> <span class=md-ellipsis> trestle.core.crm.ssp_inheritance_api </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_8_2_1_3_29> <label class=md-nav__link for=__nav_8_2_1_3_29 id=__nav_8_2_1_3_29_label tabindex=0> <span class=md-ellipsis> Jinja </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=5 aria-labelledby=__nav_8_2_1_3_29_label aria-expanded=false> <label class=md-nav__title for=__nav_8_2_1_3_29> <span class="md-nav__icon md-icon"></span> Jinja </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../jinja/base/ class=md-nav__link> <span class=md-ellipsis> trestle.core.jinja.base </span> </a> </li> <li class=md-nav__item> <a href=../../jinja/ext/ class=md-nav__link> <span class=md-ellipsis> trestle.core.jinja.ext </span> </a> </li> <li class=md-nav__item> <a href=../../jinja/filters/ class=md-nav__link> <span class=md-ellipsis> trestle.core.jinja.filters </span> </a> </li> <li class=md-nav__item> <a href=../../jinja/tags/ class=md-nav__link> <span class=md-ellipsis> trestle.core.jinja.tags </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_8_2_1_3_30> <label class=md-nav__link for=__nav_8_2_1_3_30 id=__nav_8_2_1_3_30_label tabindex=0> <span class=md-ellipsis> Markdown </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=5 aria-labelledby=__nav_8_2_1_3_30_label aria-expanded=false> <label class=md-nav__title for=__nav_8_2_1_3_30> <span class="md-nav__icon md-icon"></span> Markdown </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../markdown/base_markdown_node/ class=md-nav__link> <span class=md-ellipsis> trestle.core.markdown.base_markdown_node </span> </a> </li> <li class=md-nav__item> <a href=../../markdown/control_markdown_node/ class=md-nav__link> <span class=md-ellipsis> trestle.core.markdown.control_markdown_node </span> </a> </li> <li class=md-nav__item> <a href=../../markdown/docs_markdown_node/ class=md-nav__link> <span class=md-ellipsis> trestle.core.markdown.docs_markdown_node </span> </a> </li> <li class=md-nav__item> <a href=../../markdown/markdown_api/ class=md-nav__link> <span class=md-ellipsis> trestle.core.markdown.markdown_api </span> </a> </li> <li class=md-nav__item> <a href=../../markdown/markdown_const/ class=md-nav__link> <span class=md-ellipsis> trestle.core.markdown.markdown_const </span> </a> </li> <li class=md-nav__item> <a href=../../markdown/markdown_processor/ class=md-nav__link> <span class=md-ellipsis> trestle.core.markdown.markdown_processor </span> </a> </li> <li class=md-nav__item> <a href=../../markdown/markdown_validator/ class=md-nav__link> <span class=md-ellipsis> trestle.core.markdown.markdown_validator </span> </a> </li> <li class=md-nav__item> <a href=../../markdown/md_writer/ class=md-nav__link> <span class=md-ellipsis> trestle.core.markdown.md_writer </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_8_2_1_3_31 checked> <label class=md-nav__link for=__nav_8_2_1_3_31 id=__nav_8_2_1_3_31_label tabindex=0> <span class=md-ellipsis> Models </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=5 aria-labelledby=__nav_8_2_1_3_31_label aria-expanded=true> <label class=md-nav__title for=__nav_8_2_1_3_31> <span class="md-nav__icon md-icon"></span> Models </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../actions/ class=md-nav__link> <span class=md-ellipsis> trestle.core.models.actions </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> trestle.core.models.elements </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> trestle.core.models.elements </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#trestle.core.models.elements class=md-nav__link> <span class=md-ellipsis> elements </span> </a> <nav class=md-nav aria-label=elements> <ul class=md-nav__list> <li class=md-nav__item> <a href=#trestle.core.models.elements-attributes class=md-nav__link> <span class=md-ellipsis> Attributes </span> </a> <nav class=md-nav aria-label=Attributes> <ul class=md-nav__list> <li class=md-nav__item> <a href=#trestle.core.models.elements.logger class=md-nav__link> <span class=md-ellipsis> logger </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#trestle.core.models.elements-classes class=md-nav__link> <span class=md-ellipsis> Classes </span> </a> <nav class=md-nav aria-label=Classes> <ul class=md-nav__list> <li class=md-nav__item> <a href=#trestle.core.models.elements.Element class=md-nav__link> <span class=md-ellipsis> Element </span> </a> <nav class=md-nav aria-label=Element> <ul class=md-nav__list> <li class=md-nav__item> <a href=#trestle.core.models.elements.Element-attributes class=md-nav__link> <span class=md-ellipsis> Attributes </span> </a> <nav class=md-nav aria-label=Attributes> <ul class=md-nav__list> <li class=md-nav__item> <a href=#trestle.core.models.elements.Element.IGNORE_WRAPPER_ALIAS class=md-nav__link> <span class=md-ellipsis> IGNORE_WRAPPER_ALIAS </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#trestle.core.models.elements.Element-functions class=md-nav__link> <span class=md-ellipsis> Functions </span> </a> <nav class=md-nav aria-label=Functions> <ul class=md-nav__list> <li class=md-nav__item> <a href=#trestle.core.models.elements.Element.__eq__ class=md-nav__link> <span class=md-ellipsis> __eq__ </span> </a> </li> <li class=md-nav__item> <a href=#trestle.core.models.elements.Element.__init__ class=md-nav__link> <span class=md-ellipsis> __init__ </span> </a> </li> <li class=md-nav__item> <a href=#trestle.core.models.elements.Element.__str__ class=md-nav__link> <span class=md-ellipsis> __str__ </span> </a> </li> <li class=md-nav__item> <a href=#trestle.core.models.elements.Element.get class=md-nav__link> <span class=md-ellipsis> get </span> </a> </li> <li class=md-nav__item> <a href=#trestle.core.models.elements.Element.get_allowed_sub_element_types class=md-nav__link> <span class=md-ellipsis> get_allowed_sub_element_types </span> </a> </li> <li class=md-nav__item> <a href=#trestle.core.models.elements.Element.get_at class=md-nav__link> <span class=md-ellipsis> get_at </span> </a> </li> <li class=md-nav__item> <a href=#trestle.core.models.elements.Element.get_preceding_element class=md-nav__link> <span class=md-ellipsis> get_preceding_element </span> </a> </li> <li class=md-nav__item> <a href=#trestle.core.models.elements.Element.get_sub_element_class class=md-nav__link> <span class=md-ellipsis> get_sub_element_class </span> </a> </li> <li class=md-nav__item> <a href=#trestle.core.models.elements.Element.is_allowed_sub_element_type class=md-nav__link> <span class=md-ellipsis> is_allowed_sub_element_type </span> </a> </li> <li class=md-nav__item> <a href=#trestle.core.models.elements.Element.set_at class=md-nav__link> <span class=md-ellipsis> set_at </span> </a> </li> <li class=md-nav__item> <a href=#trestle.core.models.elements.Element.to_json class=md-nav__link> <span class=md-ellipsis> to_json </span> </a> </li> <li class=md-nav__item> <a href=#trestle.core.models.elements.Element.to_yaml class=md-nav__link> <span class=md-ellipsis> to_yaml </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#trestle.core.models.elements.ElementPath class=md-nav__link> <span class=md-ellipsis> ElementPath </span> </a> <nav class=md-nav aria-label=ElementPath> <ul class=md-nav__list> <li class=md-nav__item> <a href=#trestle.core.models.elements.ElementPath-attributes class=md-nav__link> <span class=md-ellipsis> Attributes </span> </a> <nav class=md-nav aria-label=Attributes> <ul class=md-nav__list> <li class=md-nav__item> <a href=#trestle.core.models.elements.ElementPath.PATH_SEPARATOR class=md-nav__link> <span class=md-ellipsis> PATH_SEPARATOR </span> </a> </li> <li class=md-nav__item> <a href=#trestle.core.models.elements.ElementPath.WILDCARD class=md-nav__link> <span class=md-ellipsis> WILDCARD </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#trestle.core.models.elements.ElementPath-functions class=md-nav__link> <span class=md-ellipsis> Functions </span> </a> <nav class=md-nav aria-label=Functions> <ul class=md-nav__list> <li class=md-nav__item> <a href=#trestle.core.models.elements.ElementPath.__eq__ class=md-nav__link> <span class=md-ellipsis> __eq__ </span> </a> </li> <li class=md-nav__item> <a href=#trestle.core.models.elements.ElementPath.__init__ class=md-nav__link> <span class=md-ellipsis> __init__ </span> </a> </li> <li class=md-nav__item> <a href=#trestle.core.models.elements.ElementPath.__str__ class=md-nav__link> <span class=md-ellipsis> __str__ </span> </a> </li> <li class=md-nav__item> <a href=#trestle.core.models.elements.ElementPath.find_last_file_in_path class=md-nav__link> <span class=md-ellipsis> find_last_file_in_path </span> </a> </li> <li class=md-nav__item> <a href=#trestle.core.models.elements.ElementPath.get class=md-nav__link> <span class=md-ellipsis> get </span> </a> </li> <li class=md-nav__item> <a href=#trestle.core.models.elements.ElementPath.get_element_name class=md-nav__link> <span class=md-ellipsis> get_element_name </span> </a> </li> <li class=md-nav__item> <a href=#trestle.core.models.elements.ElementPath.get_first class=md-nav__link> <span class=md-ellipsis> get_first </span> </a> </li> <li class=md-nav__item> <a href=#trestle.core.models.elements.ElementPath.get_full class=md-nav__link> <span class=md-ellipsis> get_full </span> </a> </li> <li class=md-nav__item> <a href=#trestle.core.models.elements.ElementPath.get_full_path_parts class=md-nav__link> <span class=md-ellipsis> get_full_path_parts </span> </a> </li> <li class=md-nav__item> <a href=#trestle.core.models.elements.ElementPath.get_last class=md-nav__link> <span class=md-ellipsis> get_last </span> </a> </li> <li class=md-nav__item> <a href=#trestle.core.models.elements.ElementPath.get_obm_wrapped_type class=md-nav__link> <span class=md-ellipsis> get_obm_wrapped_type </span> </a> </li> <li class=md-nav__item> <a href=#trestle.core.models.elements.ElementPath.get_parent class=md-nav__link> <span class=md-ellipsis> get_parent </span> </a> </li> <li class=md-nav__item> <a href=#trestle.core.models.elements.ElementPath.get_preceding_path class=md-nav__link> <span class=md-ellipsis> get_preceding_path </span> </a> </li> <li class=md-nav__item> <a href=#trestle.core.models.elements.ElementPath.get_type class=md-nav__link> <span class=md-ellipsis> get_type </span> </a> </li> <li class=md-nav__item> <a href=#trestle.core.models.elements.ElementPath.is_multipart class=md-nav__link> <span class=md-ellipsis> is_multipart </span> </a> </li> <li class=md-nav__item> <a href=#trestle.core.models.elements.ElementPath.make_absolute class=md-nav__link> <span class=md-ellipsis> make_absolute </span> </a> </li> <li class=md-nav__item> <a href=#trestle.core.models.elements.ElementPath.make_relative class=md-nav__link> <span class=md-ellipsis> make_relative </span> </a> </li> <li class=md-nav__item> <a href=#trestle.core.models.elements.ElementPath.to_file_path class=md-nav__link> <span class=md-ellipsis> to_file_path </span> </a> </li> <li class=md-nav__item> <a href=#trestle.core.models.elements.ElementPath.to_root_path class=md-nav__link> <span class=md-ellipsis> to_root_path </span> </a> </li> <li class=md-nav__item> <a href=#trestle.core.models.elements.ElementPath.to_string class=md-nav__link> <span class=md-ellipsis> to_string </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#trestle.core.models.elements-functions class=md-nav__link> <span class=md-ellipsis> Functions </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../file_content_type/ class=md-nav__link> <span class=md-ellipsis> trestle.core.models.file_content_type </span> </a> </li> <li class=md-nav__item> <a href=../interfaces/ class=md-nav__link> <span class=md-ellipsis> trestle.core.models.interfaces </span> </a> </li> <li class=md-nav__item> <a href=../plans/ class=md-nav__link> <span class=md-ellipsis> trestle.core.models.plans </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_8_2_1_3_32> <label class=md-nav__link for=__nav_8_2_1_3_32 id=__nav_8_2_1_3_32_label tabindex=0> <span class=md-ellipsis> Remote </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=5 aria-labelledby=__nav_8_2_1_3_32_label aria-expanded=false> <label class=md-nav__title for=__nav_8_2_1_3_32> <span class="md-nav__icon md-icon"></span> Remote </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../remote/cache/ class=md-nav__link> <span class=md-ellipsis> trestle.core.remote.cache </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_8_2_1_3_33> <label class=md-nav__link for=__nav_8_2_1_3_33 id=__nav_8_2_1_3_33_label tabindex=0> <span class=md-ellipsis> Resolver </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=5 aria-labelledby=__nav_8_2_1_3_33_label aria-expanded=false> <label class=md-nav__title for=__nav_8_2_1_3_33> <span class="md-nav__icon md-icon"></span> Resolver </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../resolver/merge/ class=md-nav__link> <span class=md-ellipsis> trestle.core.resolver.merge </span> </a> </li> <li class=md-nav__item> <a href=../../resolver/modify/ class=md-nav__link> <span class=md-ellipsis> trestle.core.resolver.modify </span> </a> </li> <li class=md-nav__item> <a href=../../resolver/prune/ class=md-nav__link> <span class=md-ellipsis> trestle.core.resolver.prune </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_8_2_1_4> <label class=md-nav__link for=__nav_8_2_1_4 id=__nav_8_2_1_4_label tabindex=0> <span class=md-ellipsis> Oscal </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=4 aria-labelledby=__nav_8_2_1_4_label aria-expanded=false> <label class=md-nav__title for=__nav_8_2_1_4> <span class="md-nav__icon md-icon"></span> Oscal </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../oscal/assessment_plan/ class=md-nav__link> <span class=md-ellipsis> trestle.oscal.assessment_plan </span> </a> </li> <li class=md-nav__item> <a href=../../../oscal/assessment_results/ class=md-nav__link> <span class=md-ellipsis> trestle.oscal.assessment_results </span> </a> </li> <li class=md-nav__item> <a href=../../../oscal/catalog/ class=md-nav__link> <span class=md-ellipsis> trestle.oscal.catalog </span> </a> </li> <li class=md-nav__item> <a href=../../../oscal/common/ class=md-nav__link> <span class=md-ellipsis> trestle.oscal.common </span> </a> </li> <li class=md-nav__item> <a href=../../../oscal/component/ class=md-nav__link> <span class=md-ellipsis> trestle.oscal.component </span> </a> </li> <li class=md-nav__item> <a href=../../../oscal/poam/ class=md-nav__link> <span class=md-ellipsis> trestle.oscal.poam </span> </a> </li> <li class=md-nav__item> <a href=../../../oscal/profile/ class=md-nav__link> <span class=md-ellipsis> trestle.oscal.profile </span> </a> </li> <li class=md-nav__item> <a href=../../../oscal/ssp/ class=md-nav__link> <span class=md-ellipsis> trestle.oscal.ssp </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_8_2_1_5> <label class=md-nav__link for=__nav_8_2_1_5 id=__nav_8_2_1_5_label tabindex=0> <span class=md-ellipsis> Tasks </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=4 aria-labelledby=__nav_8_2_1_5_label aria-expanded=false> <label class=md-nav__title for=__nav_8_2_1_5> <span class="md-nav__icon md-icon"></span> Tasks </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../tasks/base_task/ class=md-nav__link> <span class=md-ellipsis> trestle.tasks.base_task </span> </a> </li> <li class=md-nav__item> <a href=../../../tasks/cis_xlsx_to_oscal_catalog/ class=md-nav__link> <span class=md-ellipsis> trestle.tasks.cis_xlsx_to_oscal_catalog </span> </a> </li> <li class=md-nav__item> <a href=../../../tasks/cis_xlsx_to_oscal_cd/ class=md-nav__link> <span class=md-ellipsis> trestle.tasks.cis_xlsx_to_oscal_cd </span> </a> </li> <li class=md-nav__item> <a href=../../../tasks/csv_to_oscal_cd/ class=md-nav__link> <span class=md-ellipsis> trestle.tasks.csv_to_oscal_cd </span> </a> </li> <li class=md-nav__item> <a href=../../../tasks/ocp4_cis_profile_to_oscal_catalog/ class=md-nav__link> <span class=md-ellipsis> trestle.tasks.ocp4_cis_profile_to_oscal_catalog </span> </a> </li> <li class=md-nav__item> <a href=../../../tasks/ocp4_cis_profile_to_oscal_cd/ class=md-nav__link> <span class=md-ellipsis> trestle.tasks.ocp4_cis_profile_to_oscal_cd </span> </a> </li> <li class=md-nav__item> <a href=../../../tasks/oscal_catalog_to_csv/ class=md-nav__link> <span class=md-ellipsis> trestle.tasks.oscal_catalog_to_csv </span> </a> </li> <li class=md-nav__item> <a href=../../../tasks/oscal_profile_to_osco_profile/ class=md-nav__link> <span class=md-ellipsis> trestle.tasks.oscal_profile_to_osco_profile </span> </a> </li> <li class=md-nav__item> <a href=../../../tasks/osco_result_to_oscal_ar/ class=md-nav__link> <span class=md-ellipsis> trestle.tasks.osco_result_to_oscal_ar </span> </a> </li> <li class=md-nav__item> <a href=../../../tasks/tanium_result_to_oscal_ar/ class=md-nav__link> <span class=md-ellipsis> trestle.tasks.tanium_result_to_oscal_ar </span> </a> </li> <li class=md-nav__item> <a href=../../../tasks/transform/ class=md-nav__link> <span class=md-ellipsis> trestle.tasks.transform </span> </a> </li> <li class=md-nav__item> <a href=../../../tasks/xccdf_result_to_oscal_ar/ class=md-nav__link> <span class=md-ellipsis> trestle.tasks.xccdf_result_to_oscal_ar </span> </a> </li> <li class=md-nav__item> <a href=../../../tasks/xlsx_helper/ class=md-nav__link> <span class=md-ellipsis> trestle.tasks.xlsx_helper </span> </a> </li> <li class=md-nav__item> <a href=../../../tasks/xlsx_to_oscal_cd/ class=md-nav__link> <span class=md-ellipsis> trestle.tasks.xlsx_to_oscal_cd </span> </a> </li> <li class=md-nav__item> <a href=../../../tasks/xlsx_to_oscal_profile/ class=md-nav__link> <span class=md-ellipsis> trestle.tasks.xlsx_to_oscal_profile </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_8_2_1_6> <label class=md-nav__link for=__nav_8_2_1_6 id=__nav_8_2_1_6_label tabindex=0> <span class=md-ellipsis> Transforms </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=4 aria-labelledby=__nav_8_2_1_6_label aria-expanded=false> <label class=md-nav__title for=__nav_8_2_1_6> <span class="md-nav__icon md-icon"></span> Transforms </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../transforms/results/ class=md-nav__link> <span class=md-ellipsis> trestle.transforms.results </span> </a> </li> <li class=md-nav__item> <a href=../../../transforms/transformer_factory/ class=md-nav__link> <span class=md-ellipsis> trestle.transforms.transformer_factory </span> </a> </li> <li class=md-nav__item> <a href=../../../transforms/transformer_helper/ class=md-nav__link> <span class=md-ellipsis> trestle.transforms.transformer_helper </span> </a> </li> <li class=md-nav__item> <a href=../../../transforms/transformer_singleton/ class=md-nav__link> <span class=md-ellipsis> trestle.transforms.transformer_singleton </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_8_2_1_6_5> <label class=md-nav__link for=__nav_8_2_1_6_5 id=__nav_8_2_1_6_5_label tabindex=0> <span class=md-ellipsis> Implementations </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=5 aria-labelledby=__nav_8_2_1_6_5_label aria-expanded=false> <label class=md-nav__title for=__nav_8_2_1_6_5> <span class="md-nav__icon md-icon"></span> Implementations </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../transforms/implementations/osco/ class=md-nav__link> <span class=md-ellipsis> trestle.transforms.implementations.osco </span> </a> </li> <li class=md-nav__item> <a href=../../../transforms/implementations/tanium/ class=md-nav__link> <span class=md-ellipsis> trestle.transforms.implementations.tanium </span> </a> </li> <li class=md-nav__item> <a href=../../../transforms/implementations/xccdf/ class=md-nav__link> <span class=md-ellipsis> trestle.transforms.implementations.xccdf </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_9> <label class=md-nav__link for=__nav_9 id=__nav_9_label tabindex=0> <span class=md-ellipsis> Tutorials </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_9_label aria-expanded=false> <label class=md-nav__title for=__nav_9> <span class="md-nav__icon md-icon"></span> Tutorials </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../../../tutorials/cli/ class=md-nav__link> <span class=md-ellipsis> trestle CLI Overview </span> </a> </li> <li class=md-nav__item> <a href=../../../../../../tutorials/compliance_posture/ class=md-nav__link> <span class=md-ellipsis> What's your compliance posture </span> </a> </li> <li class=md-nav__item> <a href=../../../../../../tutorials/introduction_to_trestle/ class=md-nav__link> <span class=md-ellipsis> Introduction to trestle workflows </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_9_4> <label class=md-nav__link for=__nav_9_4 id=__nav_9_4_label tabindex=0> <span class=md-ellipsis> Transformers and Tasks </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_9_4_label aria-expanded=false> <label class=md-nav__title for=__nav_9_4> <span class="md-nav__icon md-icon"></span> Transformers and Tasks </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../../../tutorials/Transformers_and_Tasks/OCP4_CIS_profile_to_oscal_catalog/ class=md-nav__link> <span class=md-ellipsis> ComplianceAsCode profiles to OSCAL catalog </span> </a> </li> <li class=md-nav__item> <a href=../../../../../../tutorials/Transformers_and_Tasks/OCP4_CIS_profile_to_oscal_cd/ class=md-nav__link> <span class=md-ellipsis> Converting ComplianceAsCode profiles to component definitions </span> </a> </li> <li class=md-nav__item> <a href=../../../../../../tutorials/Transformers_and_Tasks/Tanium_result_to_oscal_ar/ class=md-nav__link> <span class=md-ellipsis> Coverting Tanium results to OSCAL </span> </a> </li> <li class=md-nav__item> <a href=../../../../../../tutorials/Transformers_and_Tasks/csv_to_oscal_cd/ class=md-nav__link> <span class=md-ellipsis> Converting CSVs to component definitions </span> </a> </li> <li class=md-nav__item> <a href=../../../../../../tutorials/Transformers_and_Tasks/transformer_construction/ class=md-nav__link> <span class=md-ellipsis> Posture format with OSCAL assesment results </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_9_5> <label class=md-nav__link for=__nav_9_5 id=__nav_9_5_label tabindex=0> <span class=md-ellipsis> Trestle authoring </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_9_5_label aria-expanded=false> <label class=md-nav__title for=__nav_9_5> <span class="md-nav__icon md-icon"></span> Trestle authoring </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../../../tutorials/Trestle_authoring/ssp_profile_catalog_authoring/ class=md-nav__link> <span class=md-ellipsis> Tutorial: Catalog, Profile, ComponentDefinition, and SSP Authoring </span> </a> </li> <li class=md-nav__item> <a href=../../../../../../tutorials/Trestle_authoring/trestle_author/ class=md-nav__link> <span class=md-ellipsis> Governance of Authored Documents </span> </a> </li> <li class=md-nav__item> <a href=../../../../../../tutorials/Trestle_authoring/trestle_author_jinja/ class=md-nav__link> <span class=md-ellipsis> Output templating with trestle author jinja </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#trestle.core.models.elements class=md-nav__link> <span class=md-ellipsis> elements </span> </a> <nav class=md-nav aria-label=elements> <ul class=md-nav__list> <li class=md-nav__item> <a href=#trestle.core.models.elements-attributes class=md-nav__link> <span class=md-ellipsis> Attributes </span> </a> <nav class=md-nav aria-label=Attributes> <ul class=md-nav__list> <li class=md-nav__item> <a href=#trestle.core.models.elements.logger class=md-nav__link> <span class=md-ellipsis> logger </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#trestle.core.models.elements-classes class=md-nav__link> <span class=md-ellipsis> Classes </span> </a> <nav class=md-nav aria-label=Classes> <ul class=md-nav__list> <li class=md-nav__item> <a href=#trestle.core.models.elements.Element class=md-nav__link> <span class=md-ellipsis> Element </span> </a> <nav class=md-nav aria-label=Element> <ul class=md-nav__list> <li class=md-nav__item> <a href=#trestle.core.models.elements.Element-attributes class=md-nav__link> <span class=md-ellipsis> Attributes </span> </a> <nav class=md-nav aria-label=Attributes> <ul class=md-nav__list> <li class=md-nav__item> <a href=#trestle.core.models.elements.Element.IGNORE_WRAPPER_ALIAS class=md-nav__link> <span class=md-ellipsis> IGNORE_WRAPPER_ALIAS </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#trestle.core.models.elements.Element-functions class=md-nav__link> <span class=md-ellipsis> Functions </span> </a> <nav class=md-nav aria-label=Functions> <ul class=md-nav__list> <li class=md-nav__item> <a href=#trestle.core.models.elements.Element.__eq__ class=md-nav__link> <span class=md-ellipsis> __eq__ </span> </a> </li> <li class=md-nav__item> <a href=#trestle.core.models.elements.Element.__init__ class=md-nav__link> <span class=md-ellipsis> __init__ </span> </a> </li> <li class=md-nav__item> <a href=#trestle.core.models.elements.Element.__str__ class=md-nav__link> <span class=md-ellipsis> __str__ </span> </a> </li> <li class=md-nav__item> <a href=#trestle.core.models.elements.Element.get class=md-nav__link> <span class=md-ellipsis> get </span> </a> </li> <li class=md-nav__item> <a href=#trestle.core.models.elements.Element.get_allowed_sub_element_types class=md-nav__link> <span class=md-ellipsis> get_allowed_sub_element_types </span> </a> </li> <li class=md-nav__item> <a href=#trestle.core.models.elements.Element.get_at class=md-nav__link> <span class=md-ellipsis> get_at </span> </a> </li> <li class=md-nav__item> <a href=#trestle.core.models.elements.Element.get_preceding_element class=md-nav__link> <span class=md-ellipsis> get_preceding_element </span> </a> </li> <li class=md-nav__item> <a href=#trestle.core.models.elements.Element.get_sub_element_class class=md-nav__link> <span class=md-ellipsis> get_sub_element_class </span> </a> </li> <li class=md-nav__item> <a href=#trestle.core.models.elements.Element.is_allowed_sub_element_type class=md-nav__link> <span class=md-ellipsis> is_allowed_sub_element_type </span> </a> </li> <li class=md-nav__item> <a href=#trestle.core.models.elements.Element.set_at class=md-nav__link> <span class=md-ellipsis> set_at </span> </a> </li> <li class=md-nav__item> <a href=#trestle.core.models.elements.Element.to_json class=md-nav__link> <span class=md-ellipsis> to_json </span> </a> </li> <li class=md-nav__item> <a href=#trestle.core.models.elements.Element.to_yaml class=md-nav__link> <span class=md-ellipsis> to_yaml </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#trestle.core.models.elements.ElementPath class=md-nav__link> <span class=md-ellipsis> ElementPath </span> </a> <nav class=md-nav aria-label=ElementPath> <ul class=md-nav__list> <li class=md-nav__item> <a href=#trestle.core.models.elements.ElementPath-attributes class=md-nav__link> <span class=md-ellipsis> Attributes </span> </a> <nav class=md-nav aria-label=Attributes> <ul class=md-nav__list> <li class=md-nav__item> <a href=#trestle.core.models.elements.ElementPath.PATH_SEPARATOR class=md-nav__link> <span class=md-ellipsis> PATH_SEPARATOR </span> </a> </li> <li class=md-nav__item> <a href=#trestle.core.models.elements.ElementPath.WILDCARD class=md-nav__link> <span class=md-ellipsis> WILDCARD </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#trestle.core.models.elements.ElementPath-functions class=md-nav__link> <span class=md-ellipsis> Functions </span> </a> <nav class=md-nav aria-label=Functions> <ul class=md-nav__list> <li class=md-nav__item> <a href=#trestle.core.models.elements.ElementPath.__eq__ class=md-nav__link> <span class=md-ellipsis> __eq__ </span> </a> </li> <li class=md-nav__item> <a href=#trestle.core.models.elements.ElementPath.__init__ class=md-nav__link> <span class=md-ellipsis> __init__ </span> </a> </li> <li class=md-nav__item> <a href=#trestle.core.models.elements.ElementPath.__str__ class=md-nav__link> <span class=md-ellipsis> __str__ </span> </a> </li> <li class=md-nav__item> <a href=#trestle.core.models.elements.ElementPath.find_last_file_in_path class=md-nav__link> <span class=md-ellipsis> find_last_file_in_path </span> </a> </li> <li class=md-nav__item> <a href=#trestle.core.models.elements.ElementPath.get class=md-nav__link> <span class=md-ellipsis> get </span> </a> </li> <li class=md-nav__item> <a href=#trestle.core.models.elements.ElementPath.get_element_name class=md-nav__link> <span class=md-ellipsis> get_element_name </span> </a> </li> <li class=md-nav__item> <a href=#trestle.core.models.elements.ElementPath.get_first class=md-nav__link> <span class=md-ellipsis> get_first </span> </a> </li> <li class=md-nav__item> <a href=#trestle.core.models.elements.ElementPath.get_full class=md-nav__link> <span class=md-ellipsis> get_full </span> </a> </li> <li class=md-nav__item> <a href=#trestle.core.models.elements.ElementPath.get_full_path_parts class=md-nav__link> <span class=md-ellipsis> get_full_path_parts </span> </a> </li> <li class=md-nav__item> <a href=#trestle.core.models.elements.ElementPath.get_last class=md-nav__link> <span class=md-ellipsis> get_last </span> </a> </li> <li class=md-nav__item> <a href=#trestle.core.models.elements.ElementPath.get_obm_wrapped_type class=md-nav__link> <span class=md-ellipsis> get_obm_wrapped_type </span> </a> </li> <li class=md-nav__item> <a href=#trestle.core.models.elements.ElementPath.get_parent class=md-nav__link> <span class=md-ellipsis> get_parent </span> </a> </li> <li class=md-nav__item> <a href=#trestle.core.models.elements.ElementPath.get_preceding_path class=md-nav__link> <span class=md-ellipsis> get_preceding_path </span> </a> </li> <li class=md-nav__item> <a href=#trestle.core.models.elements.ElementPath.get_type class=md-nav__link> <span class=md-ellipsis> get_type </span> </a> </li> <li class=md-nav__item> <a href=#trestle.core.models.elements.ElementPath.is_multipart class=md-nav__link> <span class=md-ellipsis> is_multipart </span> </a> </li> <li class=md-nav__item> <a href=#trestle.core.models.elements.ElementPath.make_absolute class=md-nav__link> <span class=md-ellipsis> make_absolute </span> </a> </li> <li class=md-nav__item> <a href=#trestle.core.models.elements.ElementPath.make_relative class=md-nav__link> <span class=md-ellipsis> make_relative </span> </a> </li> <li class=md-nav__item> <a href=#trestle.core.models.elements.ElementPath.to_file_path class=md-nav__link> <span class=md-ellipsis> to_file_path </span> </a> </li> <li class=md-nav__item> <a href=#trestle.core.models.elements.ElementPath.to_root_path class=md-nav__link> <span class=md-ellipsis> to_root_path </span> </a> </li> <li class=md-nav__item> <a href=#trestle.core.models.elements.ElementPath.to_string class=md-nav__link> <span class=md-ellipsis> to_string </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#trestle.core.models.elements-functions class=md-nav__link> <span class=md-ellipsis> Functions </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1>trestle.core.models.elements</h1> <div class="doc doc-object doc-module"> <h2 id=trestle.core.models.elements class="doc doc-heading"> <code>trestle.core.models.elements</code> <a href=#trestle.core.models.elements class=headerlink title="Permanent link">¤</a></h2> <div class="doc doc-contents first"> <p>Element wrapper of an OSCAL model element.</p> <div class="doc doc-children"> <h3 id=trestle.core.models.elements-attributes>Attributes<a href=#trestle.core.models.elements-attributes class=headerlink title="Permanent link">¤</a></h3> <div class="doc doc-object doc-attribute"> <h4 id=trestle.core.models.elements.logger class="doc doc-heading"> <code class="highlight language-python"><span class=n>logger</span> <span class=o>=</span> <span class=n>logging</span><span class=o>.</span><span class=n>getLogger</span><span class=p>(</span><span class=vm>__name__</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small> </span> <a href=#trestle.core.models.elements.logger class=headerlink title="Permanent link">¤</a></h4> <div class="doc doc-contents "> </div> </div> <h3 id=trestle.core.models.elements-classes>Classes<a href=#trestle.core.models.elements-classes class=headerlink title="Permanent link">¤</a></h3> <div class="doc doc-object doc-class"> <h4 id=trestle.core.models.elements.Element class="doc doc-heading"> <code>Element</code> <a href=#trestle.core.models.elements.Element class=headerlink title="Permanent link">¤</a></h4> <div class="doc doc-contents "> <p>Element wrapper of an OSCAL model.</p> <details class=quote> <summary>Source code in <code>trestle/core/models/elements.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>367</span>
<span class=normal>368</span>
<span class=normal>369</span>
<span class=normal>370</span>
<span class=normal>371</span>
<span class=normal>372</span>
<span class=normal>373</span>
<span class=normal>374</span>
<span class=normal>375</span>
<span class=normal>376</span>
<span class=normal>377</span>
<span class=normal>378</span>
<span class=normal>379</span>
<span class=normal>380</span>
<span class=normal>381</span>
<span class=normal>382</span>
<span class=normal>383</span>
<span class=normal>384</span>
<span class=normal>385</span>
<span class=normal>386</span>
<span class=normal>387</span>
<span class=normal>388</span>
<span class=normal>389</span>
<span class=normal>390</span>
<span class=normal>391</span>
<span class=normal>392</span>
<span class=normal>393</span>
<span class=normal>394</span>
<span class=normal>395</span>
<span class=normal>396</span>
<span class=normal>397</span>
<span class=normal>398</span>
<span class=normal>399</span>
<span class=normal>400</span>
<span class=normal>401</span>
<span class=normal>402</span>
<span class=normal>403</span>
<span class=normal>404</span>
<span class=normal>405</span>
<span class=normal>406</span>
<span class=normal>407</span>
<span class=normal>408</span>
<span class=normal>409</span>
<span class=normal>410</span>
<span class=normal>411</span>
<span class=normal>412</span>
<span class=normal>413</span>
<span class=normal>414</span>
<span class=normal>415</span>
<span class=normal>416</span>
<span class=normal>417</span>
<span class=normal>418</span>
<span class=normal>419</span>
<span class=normal>420</span>
<span class=normal>421</span>
<span class=normal>422</span>
<span class=normal>423</span>
<span class=normal>424</span>
<span class=normal>425</span>
<span class=normal>426</span>
<span class=normal>427</span>
<span class=normal>428</span>
<span class=normal>429</span>
<span class=normal>430</span>
<span class=normal>431</span>
<span class=normal>432</span>
<span class=normal>433</span>
<span class=normal>434</span>
<span class=normal>435</span>
<span class=normal>436</span>
<span class=normal>437</span>
<span class=normal>438</span>
<span class=normal>439</span>
<span class=normal>440</span>
<span class=normal>441</span>
<span class=normal>442</span>
<span class=normal>443</span>
<span class=normal>444</span>
<span class=normal>445</span>
<span class=normal>446</span>
<span class=normal>447</span>
<span class=normal>448</span>
<span class=normal>449</span>
<span class=normal>450</span>
<span class=normal>451</span>
<span class=normal>452</span>
<span class=normal>453</span>
<span class=normal>454</span>
<span class=normal>455</span>
<span class=normal>456</span>
<span class=normal>457</span>
<span class=normal>458</span>
<span class=normal>459</span>
<span class=normal>460</span>
<span class=normal>461</span>
<span class=normal>462</span>
<span class=normal>463</span>
<span class=normal>464</span>
<span class=normal>465</span>
<span class=normal>466</span>
<span class=normal>467</span>
<span class=normal>468</span>
<span class=normal>469</span>
<span class=normal>470</span>
<span class=normal>471</span>
<span class=normal>472</span>
<span class=normal>473</span>
<span class=normal>474</span>
<span class=normal>475</span>
<span class=normal>476</span>
<span class=normal>477</span>
<span class=normal>478</span>
<span class=normal>479</span>
<span class=normal>480</span>
<span class=normal>481</span>
<span class=normal>482</span>
<span class=normal>483</span>
<span class=normal>484</span>
<span class=normal>485</span>
<span class=normal>486</span>
<span class=normal>487</span>
<span class=normal>488</span>
<span class=normal>489</span>
<span class=normal>490</span>
<span class=normal>491</span>
<span class=normal>492</span>
<span class=normal>493</span>
<span class=normal>494</span>
<span class=normal>495</span>
<span class=normal>496</span>
<span class=normal>497</span>
<span class=normal>498</span>
<span class=normal>499</span>
<span class=normal>500</span>
<span class=normal>501</span>
<span class=normal>502</span>
<span class=normal>503</span>
<span class=normal>504</span>
<span class=normal>505</span>
<span class=normal>506</span>
<span class=normal>507</span>
<span class=normal>508</span>
<span class=normal>509</span>
<span class=normal>510</span>
<span class=normal>511</span>
<span class=normal>512</span>
<span class=normal>513</span>
<span class=normal>514</span>
<span class=normal>515</span>
<span class=normal>516</span>
<span class=normal>517</span>
<span class=normal>518</span>
<span class=normal>519</span>
<span class=normal>520</span>
<span class=normal>521</span>
<span class=normal>522</span>
<span class=normal>523</span>
<span class=normal>524</span>
<span class=normal>525</span>
<span class=normal>526</span>
<span class=normal>527</span>
<span class=normal>528</span>
<span class=normal>529</span>
<span class=normal>530</span>
<span class=normal>531</span>
<span class=normal>532</span>
<span class=normal>533</span>
<span class=normal>534</span>
<span class=normal>535</span>
<span class=normal>536</span>
<span class=normal>537</span>
<span class=normal>538</span>
<span class=normal>539</span>
<span class=normal>540</span>
<span class=normal>541</span>
<span class=normal>542</span>
<span class=normal>543</span>
<span class=normal>544</span>
<span class=normal>545</span>
<span class=normal>546</span>
<span class=normal>547</span>
<span class=normal>548</span>
<span class=normal>549</span>
<span class=normal>550</span>
<span class=normal>551</span>
<span class=normal>552</span>
<span class=normal>553</span>
<span class=normal>554</span>
<span class=normal>555</span>
<span class=normal>556</span>
<span class=normal>557</span>
<span class=normal>558</span>
<span class=normal>559</span>
<span class=normal>560</span>
<span class=normal>561</span>
<span class=normal>562</span>
<span class=normal>563</span>
<span class=normal>564</span>
<span class=normal>565</span>
<span class=normal>566</span>
<span class=normal>567</span>
<span class=normal>568</span>
<span class=normal>569</span>
<span class=normal>570</span>
<span class=normal>571</span>
<span class=normal>572</span>
<span class=normal>573</span>
<span class=normal>574</span>
<span class=normal>575</span>
<span class=normal>576</span>
<span class=normal>577</span>
<span class=normal>578</span>
<span class=normal>579</span>
<span class=normal>580</span>
<span class=normal>581</span>
<span class=normal>582</span>
<span class=normal>583</span>
<span class=normal>584</span>
<span class=normal>585</span>
<span class=normal>586</span>
<span class=normal>587</span>
<span class=normal>588</span>
<span class=normal>589</span>
<span class=normal>590</span>
<span class=normal>591</span>
<span class=normal>592</span>
<span class=normal>593</span>
<span class=normal>594</span>
<span class=normal>595</span>
<span class=normal>596</span>
<span class=normal>597</span>
<span class=normal>598</span>
<span class=normal>599</span>
<span class=normal>600</span>
<span class=normal>601</span>
<span class=normal>602</span>
<span class=normal>603</span>
<span class=normal>604</span>
<span class=normal>605</span>
<span class=normal>606</span>
<span class=normal>607</span>
<span class=normal>608</span>
<span class=normal>609</span>
<span class=normal>610</span>
<span class=normal>611</span>
<span class=normal>612</span>
<span class=normal>613</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>class</span><span class=w> </span><span class=nc>Element</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Element wrapper of an OSCAL model.&quot;&quot;&quot;</span>

    <span class=n>IGNORE_WRAPPER_ALIAS</span> <span class=o>=</span> <span class=s1>&#39;__&#39;</span>

    <span class=n>_allowed_sub_element_types</span><span class=p>:</span> <span class=n>List</span><span class=p>[</span><span class=nb>str</span><span class=p>]</span> <span class=o>=</span> <span class=p>[</span><span class=s1>&#39;Element&#39;</span><span class=p>,</span> <span class=s1>&#39;OscalBaseModel&#39;</span><span class=p>,</span> <span class=s1>&#39;list&#39;</span><span class=p>,</span> <span class=s1>&#39;None&#39;</span><span class=p>,</span> <span class=s1>&#39;dict&#39;</span><span class=p>]</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>elem</span><span class=p>:</span> <span class=n>OscalBaseModel</span><span class=p>,</span> <span class=n>wrapper_alias</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=s1>&#39;&#39;</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Initialize an element wrapper.</span>

<span class=sd>        wrapper_alias is the OSCAL alias for the given elem object and used for seriazation in to_json() method.</span>

<span class=sd>        For example,</span>
<span class=sd>         - List[Catalog.Group] element should have wrapper alias &#39;groups&#39;</span>
<span class=sd>         - Catalog element should have wrapper alias &#39;catalog&#39;</span>

<span class=sd>        wrapper_alias is deduced for collection type object</span>

<span class=sd>        if wrapper_alias = IGNORE_WRAPPER_ALIAS, then it is ignored and assumed to be json-serializable during to_json()</span>
<span class=sd>        &quot;&quot;&quot;</span>
        <span class=c1># FIXME: There are instances where elem is a list.</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_elem</span><span class=p>:</span> <span class=n>OscalBaseModel</span> <span class=o>=</span> <span class=n>elem</span>

        <span class=k>if</span> <span class=n>wrapper_alias</span> <span class=o>==</span> <span class=s1>&#39;&#39;</span> <span class=ow>and</span> <span class=n>wrapper_alias</span> <span class=o>!=</span> <span class=bp>self</span><span class=o>.</span><span class=n>IGNORE_WRAPPER_ALIAS</span><span class=p>:</span>
            <span class=n>class_name</span> <span class=o>=</span> <span class=n>elem</span><span class=o>.</span><span class=vm>__class__</span><span class=o>.</span><span class=vm>__name__</span>
            <span class=k>if</span> <span class=n>utils</span><span class=o>.</span><span class=n>is_collection_field_type</span><span class=p>(</span><span class=n>elem</span><span class=p>):</span>
                <span class=n>class_name</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_get_singular_classname</span><span class=p>()</span>
                <span class=k>if</span> <span class=n>class_name</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
                    <span class=k>raise</span> <span class=n>TrestleError</span><span class=p>(</span>
                        <span class=sa>f</span><span class=s1>&#39;wrapper_alias not found for a collection type object: </span><span class=si>{</span><span class=n>elem</span><span class=o>.</span><span class=vm>__class__</span><span class=o>.</span><span class=vm>__name__</span><span class=si>}</span><span class=s1>&#39;</span>
                    <span class=p>)</span>
            <span class=n>wrapper_alias</span> <span class=o>=</span> <span class=n>str_utils</span><span class=o>.</span><span class=n>classname_to_alias</span><span class=p>(</span><span class=n>class_name</span><span class=p>,</span> <span class=n>AliasMode</span><span class=o>.</span><span class=n>JSON</span><span class=p>)</span>

        <span class=bp>self</span><span class=o>.</span><span class=n>_wrapper_alias</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=n>wrapper_alias</span>

    <span class=k>def</span><span class=w> </span><span class=nf>_get_singular_classname</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Get the inner class name for list or dict objects.&quot;&quot;&quot;</span>
        <span class=c1># this assumes all items in list and all values in dict are same type</span>
        <span class=n>class_name</span> <span class=o>=</span> <span class=kc>None</span>
        <span class=n>root</span> <span class=o>=</span> <span class=nb>getattr</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>_elem</span><span class=p>,</span> <span class=s1>&#39;__root__&#39;</span><span class=p>,</span> <span class=kc>None</span><span class=p>)</span>
        <span class=k>if</span> <span class=n>root</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span><span class=p>:</span>
            <span class=n>type_str</span> <span class=o>=</span> <span class=n>root</span><span class=o>.</span><span class=vm>__class__</span><span class=o>.</span><span class=vm>__name__</span>
            <span class=k>if</span> <span class=n>type_str</span> <span class=o>==</span> <span class=s1>&#39;list&#39;</span><span class=p>:</span>
                <span class=n>class_name</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_elem</span><span class=o>.</span><span class=n>__root__</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span><span class=o>.</span><span class=vm>__class__</span><span class=o>.</span><span class=vm>__name__</span>
            <span class=k>elif</span> <span class=n>type_str</span> <span class=o>==</span> <span class=s1>&#39;dict&#39;</span><span class=p>:</span>
                <span class=n>class_name</span> <span class=o>=</span> <span class=nb>list</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>_elem</span><span class=o>.</span><span class=n>__root__</span><span class=o>.</span><span class=n>values</span><span class=p>())[</span><span class=mi>0</span><span class=p>]</span><span class=o>.</span><span class=vm>__class__</span><span class=o>.</span><span class=vm>__name__</span>
        <span class=k>return</span> <span class=n>class_name</span>

    <span class=k>def</span><span class=w> </span><span class=nf>get</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>OscalBaseModel</span><span class=p>:</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Return the model object.&quot;&quot;&quot;</span>
        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_elem</span>

    <span class=k>def</span><span class=w> </span><span class=nf>_split_element_path</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>element_path</span><span class=p>:</span> <span class=n>ElementPath</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Split the element path into root_model and remaing attr names.&quot;&quot;&quot;</span>
        <span class=n>path_parts</span> <span class=o>=</span> <span class=n>element_path</span><span class=o>.</span><span class=n>get</span><span class=p>()</span>
        <span class=n>root_model</span> <span class=o>=</span> <span class=n>path_parts</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span>
        <span class=n>path_parts</span> <span class=o>=</span> <span class=n>path_parts</span><span class=p>[</span><span class=mi>1</span><span class=p>:]</span>

        <span class=k>return</span> <span class=n>root_model</span><span class=p>,</span> <span class=n>path_parts</span>

    <span class=k>def</span><span class=w> </span><span class=nf>get_at</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span>
               <span class=n>element_path</span><span class=p>:</span> <span class=n>ElementPath</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
               <span class=n>check_parent</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>True</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Union</span><span class=p>[</span><span class=n>OscalBaseModel</span><span class=p>,</span> <span class=n>List</span><span class=p>[</span><span class=n>OscalBaseModel</span><span class=p>]]:</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Get the element at the specified element path.</span>

<span class=sd>        it will return the sub-model object at the path. Sub-model object</span>
<span class=sd>        can be of type OscalBaseModel or List</span>
<span class=sd>        &quot;&quot;&quot;</span>
        <span class=k>if</span> <span class=n>element_path</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
            <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_elem</span>

        <span class=c1># find the root-model and element path parts</span>
        <span class=n>_</span><span class=p>,</span> <span class=n>path_parts</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_split_element_path</span><span class=p>(</span><span class=n>element_path</span><span class=p>)</span>

        <span class=c1># TODO validate that self._elem is of same type as root_model</span>

        <span class=c1># initialize the starting element for search</span>
        <span class=n>elm</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_elem</span>
        <span class=k>if</span> <span class=nb>hasattr</span><span class=p>(</span><span class=n>elm</span><span class=p>,</span> <span class=s1>&#39;__root__&#39;</span><span class=p>)</span> <span class=ow>and</span> <span class=p>(</span><span class=nb>isinstance</span><span class=p>(</span><span class=n>elm</span><span class=o>.</span><span class=n>__root__</span><span class=p>,</span> <span class=nb>dict</span><span class=p>)</span> <span class=ow>or</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>elm</span><span class=o>.</span><span class=n>__root__</span><span class=p>,</span> <span class=nb>list</span><span class=p>)):</span>
            <span class=n>elm</span> <span class=o>=</span> <span class=n>elm</span><span class=o>.</span><span class=n>__root__</span>

        <span class=c1># if parent exists and does not end with wildcard, use the parent as the starting element for search</span>
        <span class=k>if</span> <span class=n>check_parent</span> <span class=ow>and</span> <span class=n>element_path</span><span class=o>.</span><span class=n>get_parent</span><span class=p>(</span>
        <span class=p>)</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span> <span class=ow>and</span> <span class=n>element_path</span><span class=o>.</span><span class=n>get_parent</span><span class=p>()</span><span class=o>.</span><span class=n>get_last</span><span class=p>()</span> <span class=o>!=</span> <span class=n>ElementPath</span><span class=o>.</span><span class=n>WILDCARD</span><span class=p>:</span>
            <span class=n>elm_at</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>get_at</span><span class=p>(</span><span class=n>element_path</span><span class=o>.</span><span class=n>get_parent</span><span class=p>())</span>
            <span class=k>if</span> <span class=n>elm_at</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
                <span class=k>raise</span> <span class=n>TrestleNotFoundError</span><span class=p>(</span><span class=sa>f</span><span class=s1>&#39;Invalid parent path </span><span class=si>{</span><span class=n>element_path</span><span class=o>.</span><span class=n>get_parent</span><span class=p>()</span><span class=si>}</span><span class=s1>&#39;</span><span class=p>)</span>
            <span class=n>elm</span> <span class=o>=</span> <span class=n>elm_at</span>

        <span class=c1># return the sub-element at the specified path</span>
        <span class=k>for</span> <span class=n>attr</span> <span class=ow>in</span> <span class=n>path_parts</span><span class=p>:</span>
            <span class=k>if</span> <span class=n>elm</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
                <span class=k>break</span>

            <span class=c1># process for wildcard and array indexes</span>

            <span class=k>if</span> <span class=n>attr</span> <span class=o>==</span> <span class=n>ElementPath</span><span class=o>.</span><span class=n>WILDCARD</span><span class=p>:</span>
                <span class=k>break</span>
            <span class=k>elif</span> <span class=n>attr</span><span class=o>.</span><span class=n>isnumeric</span><span class=p>():</span>
                <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>elm</span><span class=p>,</span> <span class=nb>list</span><span class=p>):</span>
                    <span class=n>elm</span> <span class=o>=</span> <span class=n>elm</span><span class=p>[</span><span class=nb>int</span><span class=p>(</span><span class=n>attr</span><span class=p>)]</span>
                <span class=k>else</span><span class=p>:</span>
                    <span class=c1># index to a non list type should return None</span>
                    <span class=k>return</span> <span class=kc>None</span>
            <span class=k>else</span><span class=p>:</span>
                <span class=n>elm</span> <span class=o>=</span> <span class=n>elm</span><span class=o>.</span><span class=n>get_field_value_by_alias</span><span class=p>(</span><span class=n>attr</span><span class=p>)</span>

        <span class=k>return</span> <span class=n>elm</span>

    <span class=k>def</span><span class=w> </span><span class=nf>get_preceding_element</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>element_path</span><span class=p>:</span> <span class=n>ElementPath</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Optional</span><span class=p>[</span><span class=n>OscalBaseModel</span><span class=p>]:</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Get the preceding element in the path.&quot;&quot;&quot;</span>
        <span class=n>preceding_path</span> <span class=o>=</span> <span class=n>element_path</span><span class=o>.</span><span class=n>get_preceding_path</span><span class=p>()</span>
        <span class=n>preceding_elm</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=n>OscalBaseModel</span><span class=p>]</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>get_at</span><span class=p>(</span><span class=n>preceding_path</span><span class=p>)</span>
        <span class=k>return</span> <span class=n>preceding_elm</span>

    <span class=k>def</span><span class=w> </span><span class=nf>_get_sub_element_obj</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>sub_element</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Convert sub element into allowed model obj.&quot;&quot;&quot;</span>
        <span class=k>if</span> <span class=ow>not</span> <span class=bp>self</span><span class=o>.</span><span class=n>is_allowed_sub_element_type</span><span class=p>(</span><span class=n>sub_element</span><span class=p>):</span>
            <span class=k>raise</span> <span class=n>TrestleError</span><span class=p>(</span>
                <span class=sa>f</span><span class=s1>&#39;Sub element must be one of &quot;</span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>get_allowed_sub_element_types</span><span class=p>()</span><span class=si>}</span><span class=s1>&quot;, found &quot;</span><span class=si>{</span><span class=n>sub_element</span><span class=o>.</span><span class=vm>__class__</span><span class=si>}</span><span class=s1>&quot;&#39;</span>
            <span class=p>)</span>

        <span class=n>model_obj</span> <span class=o>=</span> <span class=n>sub_element</span>
        <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>sub_element</span><span class=p>,</span> <span class=n>Element</span><span class=p>):</span>
            <span class=n>model_obj</span> <span class=o>=</span> <span class=n>sub_element</span><span class=o>.</span><span class=n>get</span><span class=p>()</span>

        <span class=k>return</span> <span class=n>model_obj</span>

    <span class=k>def</span><span class=w> </span><span class=nf>set_at</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>element_path</span><span class=p>:</span> <span class=n>ElementPath</span><span class=p>,</span> <span class=n>sub_element</span><span class=p>:</span> <span class=n>OscalBaseModel</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=s1>&#39;Element&#39;</span><span class=p>:</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Set a sub_element at the path in the current element.</span>

<span class=sd>        Sub element can be Element, OscalBaseModel, list or None type</span>
<span class=sd>        It returns the element itself so that chaining operation can be done such as</span>
<span class=sd>            `element.set_at(path, sub-element).get()`.</span>
<span class=sd>        &quot;&quot;&quot;</span>
        <span class=c1># convert the element_path to ElementPath if needed</span>
        <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>element_path</span><span class=p>,</span> <span class=nb>str</span><span class=p>):</span>
            <span class=n>element_path</span> <span class=o>=</span> <span class=n>ElementPath</span><span class=p>(</span><span class=n>element_path</span><span class=p>)</span>

        <span class=c1># convert sub-element to OscalBaseModel if needed</span>
        <span class=n>model_obj</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_get_sub_element_obj</span><span class=p>(</span><span class=n>sub_element</span><span class=p>)</span>

        <span class=c1># find the root-model and element path parts</span>
        <span class=n>_</span><span class=p>,</span> <span class=n>path_parts</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_split_element_path</span><span class=p>(</span><span class=n>element_path</span><span class=p>)</span>

        <span class=c1># TODO validate that self._elem is of same type as root_model</span>

        <span class=c1># If wildcard is present, check the input type and determine the preceding element</span>
        <span class=k>if</span> <span class=n>element_path</span><span class=o>.</span><span class=n>get_last</span><span class=p>()</span> <span class=o>==</span> <span class=n>ElementPath</span><span class=o>.</span><span class=n>WILDCARD</span><span class=p>:</span>
            <span class=c1># validate the type is either list or OscalBaseModel</span>
            <span class=k>if</span> <span class=ow>not</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>model_obj</span><span class=p>,</span> <span class=nb>list</span><span class=p>)</span> <span class=ow>and</span> <span class=ow>not</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>model_obj</span><span class=p>,</span> <span class=n>OscalBaseModel</span><span class=p>):</span>
                <span class=k>raise</span> <span class=n>TrestleError</span><span class=p>(</span>
                    <span class=sa>f</span><span class=s1>&#39;The model object needs to be a List or OscalBaseModel for path with &quot;</span><span class=si>{</span><span class=n>ElementPath</span><span class=o>.</span><span class=n>WILDCARD</span><span class=si>}</span><span class=s1>&quot;&#39;</span>
                <span class=p>)</span>

            <span class=c1># since wildcard * is there, we need to go one level up for preceding element in the path</span>
            <span class=n>preceding_elm</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>get_preceding_element</span><span class=p>(</span><span class=n>element_path</span><span class=o>.</span><span class=n>get_preceding_path</span><span class=p>())</span>
        <span class=k>else</span><span class=p>:</span>
            <span class=c1># get the preceding element in the path</span>
            <span class=n>preceding_elm</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>get_preceding_element</span><span class=p>(</span><span class=n>element_path</span><span class=p>)</span>

        <span class=k>if</span> <span class=n>preceding_elm</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
            <span class=k>raise</span> <span class=n>TrestleError</span><span class=p>(</span><span class=sa>f</span><span class=s1>&#39;Invalid sub element path </span><span class=si>{</span><span class=n>element_path</span><span class=si>}</span><span class=s1> with no valid preceding element&#39;</span><span class=p>)</span>

        <span class=c1># check if it can be a valid sub_element of the parent</span>
        <span class=n>sub_element_name</span> <span class=o>=</span> <span class=n>element_path</span><span class=o>.</span><span class=n>get_element_name</span><span class=p>()</span><span class=o>.</span><span class=n>replace</span><span class=p>(</span><span class=s1>&#39;-&#39;</span><span class=p>,</span> <span class=s1>&#39;_&#39;</span><span class=p>)</span>
        <span class=k>if</span> <span class=nb>hasattr</span><span class=p>(</span><span class=n>preceding_elm</span><span class=p>,</span> <span class=n>sub_element_name</span><span class=p>)</span> <span class=ow>is</span> <span class=kc>False</span><span class=p>:</span>
            <span class=k>raise</span> <span class=n>TrestleError</span><span class=p>(</span>
                <span class=sa>f</span><span class=s1>&#39;Element &quot;</span><span class=si>{</span><span class=n>preceding_elm</span><span class=o>.</span><span class=vm>__class__</span><span class=si>}</span><span class=s1>&quot; does not have the attribute &quot;</span><span class=si>{</span><span class=n>sub_element_name</span><span class=si>}</span><span class=s1>&quot; &#39;</span>
                <span class=sa>f</span><span class=s1>&#39;of type &quot;</span><span class=si>{</span><span class=n>model_obj</span><span class=o>.</span><span class=vm>__class__</span><span class=si>}</span><span class=s1>&quot;&#39;</span>
            <span class=p>)</span>

        <span class=c1># set the sub-element</span>
        <span class=k>try</span><span class=p>:</span>
            <span class=nb>setattr</span><span class=p>(</span><span class=n>preceding_elm</span><span class=p>,</span> <span class=n>sub_element_name</span><span class=p>,</span> <span class=n>model_obj</span><span class=p>)</span>
        <span class=k>except</span> <span class=n>ValidationError</span><span class=p>:</span>
            <span class=n>sub_element_class</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>get_sub_element_class</span><span class=p>(</span><span class=n>preceding_elm</span><span class=p>,</span> <span class=n>sub_element_name</span><span class=p>)</span>
            <span class=k>raise</span> <span class=n>TrestleError</span><span class=p>(</span>
                <span class=sa>f</span><span class=s1>&#39;Validation error: </span><span class=si>{</span><span class=n>sub_element_name</span><span class=si>}</span><span class=s1> is expected to be &quot;</span><span class=si>{</span><span class=n>sub_element_class</span><span class=si>}</span><span class=s1>&quot;, &#39;</span>
                <span class=sa>f</span><span class=s1>&#39;but found &quot;</span><span class=si>{</span><span class=n>model_obj</span><span class=o>.</span><span class=vm>__class__</span><span class=si>}</span><span class=s1>&quot;&#39;</span>
            <span class=p>)</span>

        <span class=c1># returning self will allow to do &#39;chaining&#39; of commands after set</span>
        <span class=k>return</span> <span class=bp>self</span>

    <span class=k>def</span><span class=w> </span><span class=nf>to_yaml</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Convert into YAML string.&quot;&quot;&quot;</span>
        <span class=n>yaml</span> <span class=o>=</span> <span class=n>YAML</span><span class=p>(</span><span class=n>typ</span><span class=o>=</span><span class=s1>&#39;safe&#39;</span><span class=p>)</span>
        <span class=n>yaml</span><span class=o>.</span><span class=n>default_flow_style</span> <span class=o>=</span> <span class=kc>False</span>
        <span class=kn>from</span><span class=w> </span><span class=nn>io</span><span class=w> </span><span class=kn>import</span> <span class=n>StringIO</span>
        <span class=n>string_stream</span> <span class=o>=</span> <span class=n>StringIO</span><span class=p>()</span>
        <span class=n>yaml</span><span class=o>.</span><span class=n>dump</span><span class=p>(</span><span class=n>yaml</span><span class=o>.</span><span class=n>load</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>to_json</span><span class=p>(</span><span class=n>pretty</span><span class=o>=</span><span class=kc>False</span><span class=p>)),</span> <span class=n>string_stream</span><span class=p>)</span>
        <span class=n>yaml_data</span> <span class=o>=</span> <span class=n>string_stream</span><span class=o>.</span><span class=n>getvalue</span><span class=p>()</span>
        <span class=n>string_stream</span><span class=o>.</span><span class=n>close</span><span class=p>()</span>

        <span class=k>return</span> <span class=n>yaml_data</span>

    <span class=k>def</span><span class=w> </span><span class=nf>to_json</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>pretty</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>True</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Convert into JSON string.&quot;&quot;&quot;</span>
        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>_wrapper_alias</span> <span class=o>==</span> <span class=bp>self</span><span class=o>.</span><span class=n>IGNORE_WRAPPER_ALIAS</span><span class=p>:</span>
            <span class=n>json_data</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_elem</span><span class=o>.</span><span class=n>oscal_serialize_json</span><span class=p>(</span><span class=n>pretty</span><span class=o>=</span><span class=n>pretty</span><span class=p>,</span> <span class=n>wrapped</span><span class=o>=</span><span class=kc>False</span><span class=p>)</span>

        <span class=k>else</span><span class=p>:</span>
            <span class=c1># Note before trying to edit this</span>
            <span class=c1># This transient model allows self._elem not be an OscalBaseModel (e.g. a DICT or LIST)</span>
            <span class=c1># typing need to be clarified.</span>
            <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>_elem</span><span class=p>,</span> <span class=n>OscalBaseModel</span><span class=p>):</span>
                <span class=n>json_data</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_elem</span><span class=o>.</span><span class=n>oscal_serialize_json</span><span class=p>(</span><span class=n>pretty</span><span class=o>=</span><span class=n>pretty</span><span class=p>)</span>
            <span class=k>else</span><span class=p>:</span>
                <span class=n>dynamic_passer</span> <span class=o>=</span> <span class=p>{}</span>
                <span class=n>dynamic_passer</span><span class=p>[</span><span class=s1>&#39;TransientField&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>_elem</span><span class=o>.</span><span class=vm>__class__</span><span class=p>,</span> <span class=n>Field</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>alias</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>_wrapper_alias</span><span class=p>))</span>
                <span class=n>wrapper_model</span> <span class=o>=</span> <span class=n>create_model</span><span class=p>(</span><span class=s1>&#39;TransientModel&#39;</span><span class=p>,</span> <span class=n>__base__</span><span class=o>=</span><span class=n>OscalBaseModel</span><span class=p>,</span> <span class=o>**</span><span class=n>dynamic_passer</span><span class=p>)</span>
                <span class=n>wrapped_model</span> <span class=o>=</span> <span class=n>wrapper_model</span><span class=o>.</span><span class=n>construct</span><span class=p>(</span><span class=o>**</span><span class=p>{</span><span class=bp>self</span><span class=o>.</span><span class=n>_wrapper_alias</span><span class=p>:</span> <span class=bp>self</span><span class=o>.</span><span class=n>_elem</span><span class=p>})</span>
                <span class=n>json_data</span> <span class=o>=</span> <span class=n>wrapped_model</span><span class=o>.</span><span class=n>oscal_serialize_json</span><span class=p>(</span><span class=n>pretty</span><span class=o>=</span><span class=n>pretty</span><span class=p>,</span> <span class=n>wrapped</span><span class=o>=</span><span class=kc>False</span><span class=p>)</span>
        <span class=k>return</span> <span class=n>json_data</span>

    <span class=nd>@classmethod</span>
    <span class=k>def</span><span class=w> </span><span class=nf>get_sub_element_class</span><span class=p>(</span><span class=bp>cls</span><span class=p>,</span> <span class=n>parent_elm</span><span class=p>:</span> <span class=n>OscalBaseModel</span><span class=p>,</span> <span class=n>sub_element_name</span><span class=p>:</span> <span class=nb>str</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Get the class of the sub-element.&quot;&quot;&quot;</span>
        <span class=n>sub_element_class</span> <span class=o>=</span> <span class=n>parent_elm</span><span class=o>.</span><span class=n>__fields__</span><span class=p>[</span><span class=n>sub_element_name</span><span class=p>]</span><span class=o>.</span><span class=n>outer_type_</span>
        <span class=k>return</span> <span class=n>sub_element_class</span>

    <span class=nd>@classmethod</span>
    <span class=k>def</span><span class=w> </span><span class=nf>get_allowed_sub_element_types</span><span class=p>(</span><span class=bp>cls</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>List</span><span class=p>[</span><span class=nb>str</span><span class=p>]:</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Get the list of allowed sub element types.&quot;&quot;&quot;</span>
        <span class=k>return</span> <span class=bp>cls</span><span class=o>.</span><span class=n>_allowed_sub_element_types</span>

    <span class=nd>@classmethod</span>
    <span class=k>def</span><span class=w> </span><span class=nf>is_allowed_sub_element_type</span><span class=p>(</span><span class=bp>cls</span><span class=p>,</span> <span class=n>elm</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>bool</span><span class=p>:</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Check if is of allowed sub element type.&quot;&quot;&quot;</span>
        <span class=c1># FIXME: The following logic does not use the _allowed_sub_element_types being defined for the class</span>
        <span class=k>if</span> <span class=p>(</span><span class=nb>isinstance</span><span class=p>(</span><span class=n>elm</span><span class=p>,</span> <span class=n>Element</span><span class=p>)</span> <span class=ow>or</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>elm</span><span class=p>,</span> <span class=n>OscalBaseModel</span><span class=p>)</span> <span class=ow>or</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>elm</span><span class=p>,</span> <span class=nb>list</span><span class=p>)</span>
                <span class=ow>or</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>elm</span><span class=p>,</span> <span class=nb>dict</span><span class=p>)</span> <span class=ow>or</span> <span class=n>elm</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>):</span>
            <span class=k>return</span> <span class=kc>True</span>

        <span class=k>return</span> <span class=kc>False</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__str__</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Return string representation of element.&quot;&quot;&quot;</span>
        <span class=k>return</span> <span class=nb>type</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>_elem</span><span class=p>)</span><span class=o>.</span><span class=vm>__name__</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__eq__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>other</span><span class=p>:</span> <span class=nb>object</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>bool</span><span class=p>:</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Check that two elements are equal.&quot;&quot;&quot;</span>
        <span class=k>if</span> <span class=ow>not</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>other</span><span class=p>,</span> <span class=n>Element</span><span class=p>):</span>
            <span class=k>return</span> <span class=kc>False</span>

        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>get</span><span class=p>()</span> <span class=o>==</span> <span class=n>other</span><span class=o>.</span><span class=n>get</span><span class=p>()</span>
</code></pre></div></td></tr></table></div> </details> <div class="doc doc-children"> <h5 id=trestle.core.models.elements.Element-attributes>Attributes<a href=#trestle.core.models.elements.Element-attributes class=headerlink title="Permanent link">¤</a></h5> <div class="doc doc-object doc-attribute"> <h6 id=trestle.core.models.elements.Element.IGNORE_WRAPPER_ALIAS class="doc doc-heading"> <code class="highlight language-python"><span class=n>IGNORE_WRAPPER_ALIAS</span> <span class=o>=</span> <span class=s1>&#39;__&#39;</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small> <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small> </span> <a href=#trestle.core.models.elements.Element.IGNORE_WRAPPER_ALIAS class=headerlink title="Permanent link">¤</a></h6> <div class="doc doc-contents "> </div> </div> <h5 id=trestle.core.models.elements.Element-functions>Functions<a href=#trestle.core.models.elements.Element-functions class=headerlink title="Permanent link">¤</a></h5> <div class="doc doc-object doc-function"> <h6 id=trestle.core.models.elements.Element.__eq__ class="doc doc-heading"> <code class="highlight language-python"><span class=fm>__eq__</span><span class=p>(</span><span class=n>other</span><span class=p>)</span></code> <a href=#trestle.core.models.elements.Element.__eq__ class=headerlink title="Permanent link">¤</a></h6> <div class="doc doc-contents "> <p>Check that two elements are equal.</p> <details class=quote> <summary>Source code in <code>trestle/core/models/elements.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>608</span>
<span class=normal>609</span>
<span class=normal>610</span>
<span class=normal>611</span>
<span class=normal>612</span>
<span class=normal>613</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=fm>__eq__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>other</span><span class=p>:</span> <span class=nb>object</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>bool</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Check that two elements are equal.&quot;&quot;&quot;</span>
    <span class=k>if</span> <span class=ow>not</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>other</span><span class=p>,</span> <span class=n>Element</span><span class=p>):</span>
        <span class=k>return</span> <span class=kc>False</span>

    <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>get</span><span class=p>()</span> <span class=o>==</span> <span class=n>other</span><span class=o>.</span><span class=n>get</span><span class=p>()</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h6 id=trestle.core.models.elements.Element.__init__ class="doc doc-heading"> <code class="highlight language-python"><span class=fm>__init__</span><span class=p>(</span><span class=n>elem</span><span class=p>,</span> <span class=n>wrapper_alias</span><span class=o>=</span><span class=s1>&#39;&#39;</span><span class=p>)</span></code> <a href=#trestle.core.models.elements.Element.__init__ class=headerlink title="Permanent link">¤</a></h6> <div class="doc doc-contents "> <p>Initialize an element wrapper.</p> <p>wrapper_alias is the OSCAL alias for the given elem object and used for seriazation in to_json() method.</p> <p>For example, - List[Catalog.Group] element should have wrapper alias 'groups' - Catalog element should have wrapper alias 'catalog'</p> <p>wrapper_alias is deduced for collection type object</p> <p>if wrapper_alias = IGNORE_WRAPPER_ALIAS, then it is ignored and assumed to be json-serializable during to_json()</p> <details class=quote> <summary>Source code in <code>trestle/core/models/elements.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>374</span>
<span class=normal>375</span>
<span class=normal>376</span>
<span class=normal>377</span>
<span class=normal>378</span>
<span class=normal>379</span>
<span class=normal>380</span>
<span class=normal>381</span>
<span class=normal>382</span>
<span class=normal>383</span>
<span class=normal>384</span>
<span class=normal>385</span>
<span class=normal>386</span>
<span class=normal>387</span>
<span class=normal>388</span>
<span class=normal>389</span>
<span class=normal>390</span>
<span class=normal>391</span>
<span class=normal>392</span>
<span class=normal>393</span>
<span class=normal>394</span>
<span class=normal>395</span>
<span class=normal>396</span>
<span class=normal>397</span>
<span class=normal>398</span>
<span class=normal>399</span>
<span class=normal>400</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>elem</span><span class=p>:</span> <span class=n>OscalBaseModel</span><span class=p>,</span> <span class=n>wrapper_alias</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=s1>&#39;&#39;</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Initialize an element wrapper.</span>

<span class=sd>    wrapper_alias is the OSCAL alias for the given elem object and used for seriazation in to_json() method.</span>

<span class=sd>    For example,</span>
<span class=sd>     - List[Catalog.Group] element should have wrapper alias &#39;groups&#39;</span>
<span class=sd>     - Catalog element should have wrapper alias &#39;catalog&#39;</span>

<span class=sd>    wrapper_alias is deduced for collection type object</span>

<span class=sd>    if wrapper_alias = IGNORE_WRAPPER_ALIAS, then it is ignored and assumed to be json-serializable during to_json()</span>
<span class=sd>    &quot;&quot;&quot;</span>
    <span class=c1># FIXME: There are instances where elem is a list.</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>_elem</span><span class=p>:</span> <span class=n>OscalBaseModel</span> <span class=o>=</span> <span class=n>elem</span>

    <span class=k>if</span> <span class=n>wrapper_alias</span> <span class=o>==</span> <span class=s1>&#39;&#39;</span> <span class=ow>and</span> <span class=n>wrapper_alias</span> <span class=o>!=</span> <span class=bp>self</span><span class=o>.</span><span class=n>IGNORE_WRAPPER_ALIAS</span><span class=p>:</span>
        <span class=n>class_name</span> <span class=o>=</span> <span class=n>elem</span><span class=o>.</span><span class=vm>__class__</span><span class=o>.</span><span class=vm>__name__</span>
        <span class=k>if</span> <span class=n>utils</span><span class=o>.</span><span class=n>is_collection_field_type</span><span class=p>(</span><span class=n>elem</span><span class=p>):</span>
            <span class=n>class_name</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_get_singular_classname</span><span class=p>()</span>
            <span class=k>if</span> <span class=n>class_name</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
                <span class=k>raise</span> <span class=n>TrestleError</span><span class=p>(</span>
                    <span class=sa>f</span><span class=s1>&#39;wrapper_alias not found for a collection type object: </span><span class=si>{</span><span class=n>elem</span><span class=o>.</span><span class=vm>__class__</span><span class=o>.</span><span class=vm>__name__</span><span class=si>}</span><span class=s1>&#39;</span>
                <span class=p>)</span>
        <span class=n>wrapper_alias</span> <span class=o>=</span> <span class=n>str_utils</span><span class=o>.</span><span class=n>classname_to_alias</span><span class=p>(</span><span class=n>class_name</span><span class=p>,</span> <span class=n>AliasMode</span><span class=o>.</span><span class=n>JSON</span><span class=p>)</span>

    <span class=bp>self</span><span class=o>.</span><span class=n>_wrapper_alias</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=n>wrapper_alias</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h6 id=trestle.core.models.elements.Element.__str__ class="doc doc-heading"> <code class="highlight language-python"><span class=fm>__str__</span><span class=p>()</span></code> <a href=#trestle.core.models.elements.Element.__str__ class=headerlink title="Permanent link">¤</a></h6> <div class="doc doc-contents "> <p>Return string representation of element.</p> <details class=quote> <summary>Source code in <code>trestle/core/models/elements.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>604</span>
<span class=normal>605</span>
<span class=normal>606</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=fm>__str__</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Return string representation of element.&quot;&quot;&quot;</span>
    <span class=k>return</span> <span class=nb>type</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>_elem</span><span class=p>)</span><span class=o>.</span><span class=vm>__name__</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h6 id=trestle.core.models.elements.Element.get class="doc doc-heading"> <code class="highlight language-python"><span class=n>get</span><span class=p>()</span></code> <a href=#trestle.core.models.elements.Element.get class=headerlink title="Permanent link">¤</a></h6> <div class="doc doc-contents "> <p>Return the model object.</p> <details class=quote> <summary>Source code in <code>trestle/core/models/elements.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>415</span>
<span class=normal>416</span>
<span class=normal>417</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>get</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>OscalBaseModel</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Return the model object.&quot;&quot;&quot;</span>
    <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_elem</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h6 id=trestle.core.models.elements.Element.get_allowed_sub_element_types class="doc doc-heading"> <code class="highlight language-python"><span class=n>get_allowed_sub_element_types</span><span class=p>()</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small> </span> <a href=#trestle.core.models.elements.Element.get_allowed_sub_element_types class=headerlink title="Permanent link">¤</a></h6> <div class="doc doc-contents "> <p>Get the list of allowed sub element types.</p> <details class=quote> <summary>Source code in <code>trestle/core/models/elements.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>589</span>
<span class=normal>590</span>
<span class=normal>591</span>
<span class=normal>592</span></pre></div></td><td class=code><div><pre><span></span><code><span class=nd>@classmethod</span>
<span class=k>def</span><span class=w> </span><span class=nf>get_allowed_sub_element_types</span><span class=p>(</span><span class=bp>cls</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>List</span><span class=p>[</span><span class=nb>str</span><span class=p>]:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Get the list of allowed sub element types.&quot;&quot;&quot;</span>
    <span class=k>return</span> <span class=bp>cls</span><span class=o>.</span><span class=n>_allowed_sub_element_types</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h6 id=trestle.core.models.elements.Element.get_at class="doc doc-heading"> <code class="highlight language-python"><span class=n>get_at</span><span class=p>(</span><span class=n>element_path</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>check_parent</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span></code> <a href=#trestle.core.models.elements.Element.get_at class=headerlink title="Permanent link">¤</a></h6> <div class="doc doc-contents "> <p>Get the element at the specified element path.</p> <p>it will return the sub-model object at the path. Sub-model object can be of type OscalBaseModel or List</p> <details class=quote> <summary>Source code in <code>trestle/core/models/elements.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>427</span>
<span class=normal>428</span>
<span class=normal>429</span>
<span class=normal>430</span>
<span class=normal>431</span>
<span class=normal>432</span>
<span class=normal>433</span>
<span class=normal>434</span>
<span class=normal>435</span>
<span class=normal>436</span>
<span class=normal>437</span>
<span class=normal>438</span>
<span class=normal>439</span>
<span class=normal>440</span>
<span class=normal>441</span>
<span class=normal>442</span>
<span class=normal>443</span>
<span class=normal>444</span>
<span class=normal>445</span>
<span class=normal>446</span>
<span class=normal>447</span>
<span class=normal>448</span>
<span class=normal>449</span>
<span class=normal>450</span>
<span class=normal>451</span>
<span class=normal>452</span>
<span class=normal>453</span>
<span class=normal>454</span>
<span class=normal>455</span>
<span class=normal>456</span>
<span class=normal>457</span>
<span class=normal>458</span>
<span class=normal>459</span>
<span class=normal>460</span>
<span class=normal>461</span>
<span class=normal>462</span>
<span class=normal>463</span>
<span class=normal>464</span>
<span class=normal>465</span>
<span class=normal>466</span>
<span class=normal>467</span>
<span class=normal>468</span>
<span class=normal>469</span>
<span class=normal>470</span>
<span class=normal>471</span>
<span class=normal>472</span>
<span class=normal>473</span>
<span class=normal>474</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>get_at</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span>
           <span class=n>element_path</span><span class=p>:</span> <span class=n>ElementPath</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
           <span class=n>check_parent</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>True</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Union</span><span class=p>[</span><span class=n>OscalBaseModel</span><span class=p>,</span> <span class=n>List</span><span class=p>[</span><span class=n>OscalBaseModel</span><span class=p>]]:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Get the element at the specified element path.</span>

<span class=sd>    it will return the sub-model object at the path. Sub-model object</span>
<span class=sd>    can be of type OscalBaseModel or List</span>
<span class=sd>    &quot;&quot;&quot;</span>
    <span class=k>if</span> <span class=n>element_path</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_elem</span>

    <span class=c1># find the root-model and element path parts</span>
    <span class=n>_</span><span class=p>,</span> <span class=n>path_parts</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_split_element_path</span><span class=p>(</span><span class=n>element_path</span><span class=p>)</span>

    <span class=c1># TODO validate that self._elem is of same type as root_model</span>

    <span class=c1># initialize the starting element for search</span>
    <span class=n>elm</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_elem</span>
    <span class=k>if</span> <span class=nb>hasattr</span><span class=p>(</span><span class=n>elm</span><span class=p>,</span> <span class=s1>&#39;__root__&#39;</span><span class=p>)</span> <span class=ow>and</span> <span class=p>(</span><span class=nb>isinstance</span><span class=p>(</span><span class=n>elm</span><span class=o>.</span><span class=n>__root__</span><span class=p>,</span> <span class=nb>dict</span><span class=p>)</span> <span class=ow>or</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>elm</span><span class=o>.</span><span class=n>__root__</span><span class=p>,</span> <span class=nb>list</span><span class=p>)):</span>
        <span class=n>elm</span> <span class=o>=</span> <span class=n>elm</span><span class=o>.</span><span class=n>__root__</span>

    <span class=c1># if parent exists and does not end with wildcard, use the parent as the starting element for search</span>
    <span class=k>if</span> <span class=n>check_parent</span> <span class=ow>and</span> <span class=n>element_path</span><span class=o>.</span><span class=n>get_parent</span><span class=p>(</span>
    <span class=p>)</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span> <span class=ow>and</span> <span class=n>element_path</span><span class=o>.</span><span class=n>get_parent</span><span class=p>()</span><span class=o>.</span><span class=n>get_last</span><span class=p>()</span> <span class=o>!=</span> <span class=n>ElementPath</span><span class=o>.</span><span class=n>WILDCARD</span><span class=p>:</span>
        <span class=n>elm_at</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>get_at</span><span class=p>(</span><span class=n>element_path</span><span class=o>.</span><span class=n>get_parent</span><span class=p>())</span>
        <span class=k>if</span> <span class=n>elm_at</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
            <span class=k>raise</span> <span class=n>TrestleNotFoundError</span><span class=p>(</span><span class=sa>f</span><span class=s1>&#39;Invalid parent path </span><span class=si>{</span><span class=n>element_path</span><span class=o>.</span><span class=n>get_parent</span><span class=p>()</span><span class=si>}</span><span class=s1>&#39;</span><span class=p>)</span>
        <span class=n>elm</span> <span class=o>=</span> <span class=n>elm_at</span>

    <span class=c1># return the sub-element at the specified path</span>
    <span class=k>for</span> <span class=n>attr</span> <span class=ow>in</span> <span class=n>path_parts</span><span class=p>:</span>
        <span class=k>if</span> <span class=n>elm</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
            <span class=k>break</span>

        <span class=c1># process for wildcard and array indexes</span>

        <span class=k>if</span> <span class=n>attr</span> <span class=o>==</span> <span class=n>ElementPath</span><span class=o>.</span><span class=n>WILDCARD</span><span class=p>:</span>
            <span class=k>break</span>
        <span class=k>elif</span> <span class=n>attr</span><span class=o>.</span><span class=n>isnumeric</span><span class=p>():</span>
            <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>elm</span><span class=p>,</span> <span class=nb>list</span><span class=p>):</span>
                <span class=n>elm</span> <span class=o>=</span> <span class=n>elm</span><span class=p>[</span><span class=nb>int</span><span class=p>(</span><span class=n>attr</span><span class=p>)]</span>
            <span class=k>else</span><span class=p>:</span>
                <span class=c1># index to a non list type should return None</span>
                <span class=k>return</span> <span class=kc>None</span>
        <span class=k>else</span><span class=p>:</span>
            <span class=n>elm</span> <span class=o>=</span> <span class=n>elm</span><span class=o>.</span><span class=n>get_field_value_by_alias</span><span class=p>(</span><span class=n>attr</span><span class=p>)</span>

    <span class=k>return</span> <span class=n>elm</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h6 id=trestle.core.models.elements.Element.get_preceding_element class="doc doc-heading"> <code class="highlight language-python"><span class=n>get_preceding_element</span><span class=p>(</span><span class=n>element_path</span><span class=p>)</span></code> <a href=#trestle.core.models.elements.Element.get_preceding_element class=headerlink title="Permanent link">¤</a></h6> <div class="doc doc-contents "> <p>Get the preceding element in the path.</p> <details class=quote> <summary>Source code in <code>trestle/core/models/elements.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>476</span>
<span class=normal>477</span>
<span class=normal>478</span>
<span class=normal>479</span>
<span class=normal>480</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>get_preceding_element</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>element_path</span><span class=p>:</span> <span class=n>ElementPath</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Optional</span><span class=p>[</span><span class=n>OscalBaseModel</span><span class=p>]:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Get the preceding element in the path.&quot;&quot;&quot;</span>
    <span class=n>preceding_path</span> <span class=o>=</span> <span class=n>element_path</span><span class=o>.</span><span class=n>get_preceding_path</span><span class=p>()</span>
    <span class=n>preceding_elm</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=n>OscalBaseModel</span><span class=p>]</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>get_at</span><span class=p>(</span><span class=n>preceding_path</span><span class=p>)</span>
    <span class=k>return</span> <span class=n>preceding_elm</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h6 id=trestle.core.models.elements.Element.get_sub_element_class class="doc doc-heading"> <code class="highlight language-python"><span class=n>get_sub_element_class</span><span class=p>(</span><span class=n>parent_elm</span><span class=p>,</span> <span class=n>sub_element_name</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small> </span> <a href=#trestle.core.models.elements.Element.get_sub_element_class class=headerlink title="Permanent link">¤</a></h6> <div class="doc doc-contents "> <p>Get the class of the sub-element.</p> <details class=quote> <summary>Source code in <code>trestle/core/models/elements.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>583</span>
<span class=normal>584</span>
<span class=normal>585</span>
<span class=normal>586</span>
<span class=normal>587</span></pre></div></td><td class=code><div><pre><span></span><code><span class=nd>@classmethod</span>
<span class=k>def</span><span class=w> </span><span class=nf>get_sub_element_class</span><span class=p>(</span><span class=bp>cls</span><span class=p>,</span> <span class=n>parent_elm</span><span class=p>:</span> <span class=n>OscalBaseModel</span><span class=p>,</span> <span class=n>sub_element_name</span><span class=p>:</span> <span class=nb>str</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Get the class of the sub-element.&quot;&quot;&quot;</span>
    <span class=n>sub_element_class</span> <span class=o>=</span> <span class=n>parent_elm</span><span class=o>.</span><span class=n>__fields__</span><span class=p>[</span><span class=n>sub_element_name</span><span class=p>]</span><span class=o>.</span><span class=n>outer_type_</span>
    <span class=k>return</span> <span class=n>sub_element_class</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h6 id=trestle.core.models.elements.Element.is_allowed_sub_element_type class="doc doc-heading"> <code class="highlight language-python"><span class=n>is_allowed_sub_element_type</span><span class=p>(</span><span class=n>elm</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small> </span> <a href=#trestle.core.models.elements.Element.is_allowed_sub_element_type class=headerlink title="Permanent link">¤</a></h6> <div class="doc doc-contents "> <p>Check if is of allowed sub element type.</p> <details class=quote> <summary>Source code in <code>trestle/core/models/elements.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>594</span>
<span class=normal>595</span>
<span class=normal>596</span>
<span class=normal>597</span>
<span class=normal>598</span>
<span class=normal>599</span>
<span class=normal>600</span>
<span class=normal>601</span>
<span class=normal>602</span></pre></div></td><td class=code><div><pre><span></span><code><span class=nd>@classmethod</span>
<span class=k>def</span><span class=w> </span><span class=nf>is_allowed_sub_element_type</span><span class=p>(</span><span class=bp>cls</span><span class=p>,</span> <span class=n>elm</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>bool</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Check if is of allowed sub element type.&quot;&quot;&quot;</span>
    <span class=c1># FIXME: The following logic does not use the _allowed_sub_element_types being defined for the class</span>
    <span class=k>if</span> <span class=p>(</span><span class=nb>isinstance</span><span class=p>(</span><span class=n>elm</span><span class=p>,</span> <span class=n>Element</span><span class=p>)</span> <span class=ow>or</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>elm</span><span class=p>,</span> <span class=n>OscalBaseModel</span><span class=p>)</span> <span class=ow>or</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>elm</span><span class=p>,</span> <span class=nb>list</span><span class=p>)</span>
            <span class=ow>or</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>elm</span><span class=p>,</span> <span class=nb>dict</span><span class=p>)</span> <span class=ow>or</span> <span class=n>elm</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>):</span>
        <span class=k>return</span> <span class=kc>True</span>

    <span class=k>return</span> <span class=kc>False</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h6 id=trestle.core.models.elements.Element.set_at class="doc doc-heading"> <code class="highlight language-python"><span class=n>set_at</span><span class=p>(</span><span class=n>element_path</span><span class=p>,</span> <span class=n>sub_element</span><span class=p>)</span></code> <a href=#trestle.core.models.elements.Element.set_at class=headerlink title="Permanent link">¤</a></h6> <div class="doc doc-contents "> <p>Set a sub_element at the path in the current element.</p> <p>Sub element can be Element, OscalBaseModel, list or None type It returns the element itself so that chaining operation can be done such as <code>element.set_at(path, sub-element).get()</code>.</p> <details class=quote> <summary>Source code in <code>trestle/core/models/elements.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>495</span>
<span class=normal>496</span>
<span class=normal>497</span>
<span class=normal>498</span>
<span class=normal>499</span>
<span class=normal>500</span>
<span class=normal>501</span>
<span class=normal>502</span>
<span class=normal>503</span>
<span class=normal>504</span>
<span class=normal>505</span>
<span class=normal>506</span>
<span class=normal>507</span>
<span class=normal>508</span>
<span class=normal>509</span>
<span class=normal>510</span>
<span class=normal>511</span>
<span class=normal>512</span>
<span class=normal>513</span>
<span class=normal>514</span>
<span class=normal>515</span>
<span class=normal>516</span>
<span class=normal>517</span>
<span class=normal>518</span>
<span class=normal>519</span>
<span class=normal>520</span>
<span class=normal>521</span>
<span class=normal>522</span>
<span class=normal>523</span>
<span class=normal>524</span>
<span class=normal>525</span>
<span class=normal>526</span>
<span class=normal>527</span>
<span class=normal>528</span>
<span class=normal>529</span>
<span class=normal>530</span>
<span class=normal>531</span>
<span class=normal>532</span>
<span class=normal>533</span>
<span class=normal>534</span>
<span class=normal>535</span>
<span class=normal>536</span>
<span class=normal>537</span>
<span class=normal>538</span>
<span class=normal>539</span>
<span class=normal>540</span>
<span class=normal>541</span>
<span class=normal>542</span>
<span class=normal>543</span>
<span class=normal>544</span>
<span class=normal>545</span>
<span class=normal>546</span>
<span class=normal>547</span>
<span class=normal>548</span>
<span class=normal>549</span>
<span class=normal>550</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>set_at</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>element_path</span><span class=p>:</span> <span class=n>ElementPath</span><span class=p>,</span> <span class=n>sub_element</span><span class=p>:</span> <span class=n>OscalBaseModel</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=s1>&#39;Element&#39;</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Set a sub_element at the path in the current element.</span>

<span class=sd>    Sub element can be Element, OscalBaseModel, list or None type</span>
<span class=sd>    It returns the element itself so that chaining operation can be done such as</span>
<span class=sd>        `element.set_at(path, sub-element).get()`.</span>
<span class=sd>    &quot;&quot;&quot;</span>
    <span class=c1># convert the element_path to ElementPath if needed</span>
    <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>element_path</span><span class=p>,</span> <span class=nb>str</span><span class=p>):</span>
        <span class=n>element_path</span> <span class=o>=</span> <span class=n>ElementPath</span><span class=p>(</span><span class=n>element_path</span><span class=p>)</span>

    <span class=c1># convert sub-element to OscalBaseModel if needed</span>
    <span class=n>model_obj</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_get_sub_element_obj</span><span class=p>(</span><span class=n>sub_element</span><span class=p>)</span>

    <span class=c1># find the root-model and element path parts</span>
    <span class=n>_</span><span class=p>,</span> <span class=n>path_parts</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_split_element_path</span><span class=p>(</span><span class=n>element_path</span><span class=p>)</span>

    <span class=c1># TODO validate that self._elem is of same type as root_model</span>

    <span class=c1># If wildcard is present, check the input type and determine the preceding element</span>
    <span class=k>if</span> <span class=n>element_path</span><span class=o>.</span><span class=n>get_last</span><span class=p>()</span> <span class=o>==</span> <span class=n>ElementPath</span><span class=o>.</span><span class=n>WILDCARD</span><span class=p>:</span>
        <span class=c1># validate the type is either list or OscalBaseModel</span>
        <span class=k>if</span> <span class=ow>not</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>model_obj</span><span class=p>,</span> <span class=nb>list</span><span class=p>)</span> <span class=ow>and</span> <span class=ow>not</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>model_obj</span><span class=p>,</span> <span class=n>OscalBaseModel</span><span class=p>):</span>
            <span class=k>raise</span> <span class=n>TrestleError</span><span class=p>(</span>
                <span class=sa>f</span><span class=s1>&#39;The model object needs to be a List or OscalBaseModel for path with &quot;</span><span class=si>{</span><span class=n>ElementPath</span><span class=o>.</span><span class=n>WILDCARD</span><span class=si>}</span><span class=s1>&quot;&#39;</span>
            <span class=p>)</span>

        <span class=c1># since wildcard * is there, we need to go one level up for preceding element in the path</span>
        <span class=n>preceding_elm</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>get_preceding_element</span><span class=p>(</span><span class=n>element_path</span><span class=o>.</span><span class=n>get_preceding_path</span><span class=p>())</span>
    <span class=k>else</span><span class=p>:</span>
        <span class=c1># get the preceding element in the path</span>
        <span class=n>preceding_elm</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>get_preceding_element</span><span class=p>(</span><span class=n>element_path</span><span class=p>)</span>

    <span class=k>if</span> <span class=n>preceding_elm</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
        <span class=k>raise</span> <span class=n>TrestleError</span><span class=p>(</span><span class=sa>f</span><span class=s1>&#39;Invalid sub element path </span><span class=si>{</span><span class=n>element_path</span><span class=si>}</span><span class=s1> with no valid preceding element&#39;</span><span class=p>)</span>

    <span class=c1># check if it can be a valid sub_element of the parent</span>
    <span class=n>sub_element_name</span> <span class=o>=</span> <span class=n>element_path</span><span class=o>.</span><span class=n>get_element_name</span><span class=p>()</span><span class=o>.</span><span class=n>replace</span><span class=p>(</span><span class=s1>&#39;-&#39;</span><span class=p>,</span> <span class=s1>&#39;_&#39;</span><span class=p>)</span>
    <span class=k>if</span> <span class=nb>hasattr</span><span class=p>(</span><span class=n>preceding_elm</span><span class=p>,</span> <span class=n>sub_element_name</span><span class=p>)</span> <span class=ow>is</span> <span class=kc>False</span><span class=p>:</span>
        <span class=k>raise</span> <span class=n>TrestleError</span><span class=p>(</span>
            <span class=sa>f</span><span class=s1>&#39;Element &quot;</span><span class=si>{</span><span class=n>preceding_elm</span><span class=o>.</span><span class=vm>__class__</span><span class=si>}</span><span class=s1>&quot; does not have the attribute &quot;</span><span class=si>{</span><span class=n>sub_element_name</span><span class=si>}</span><span class=s1>&quot; &#39;</span>
            <span class=sa>f</span><span class=s1>&#39;of type &quot;</span><span class=si>{</span><span class=n>model_obj</span><span class=o>.</span><span class=vm>__class__</span><span class=si>}</span><span class=s1>&quot;&#39;</span>
        <span class=p>)</span>

    <span class=c1># set the sub-element</span>
    <span class=k>try</span><span class=p>:</span>
        <span class=nb>setattr</span><span class=p>(</span><span class=n>preceding_elm</span><span class=p>,</span> <span class=n>sub_element_name</span><span class=p>,</span> <span class=n>model_obj</span><span class=p>)</span>
    <span class=k>except</span> <span class=n>ValidationError</span><span class=p>:</span>
        <span class=n>sub_element_class</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>get_sub_element_class</span><span class=p>(</span><span class=n>preceding_elm</span><span class=p>,</span> <span class=n>sub_element_name</span><span class=p>)</span>
        <span class=k>raise</span> <span class=n>TrestleError</span><span class=p>(</span>
            <span class=sa>f</span><span class=s1>&#39;Validation error: </span><span class=si>{</span><span class=n>sub_element_name</span><span class=si>}</span><span class=s1> is expected to be &quot;</span><span class=si>{</span><span class=n>sub_element_class</span><span class=si>}</span><span class=s1>&quot;, &#39;</span>
            <span class=sa>f</span><span class=s1>&#39;but found &quot;</span><span class=si>{</span><span class=n>model_obj</span><span class=o>.</span><span class=vm>__class__</span><span class=si>}</span><span class=s1>&quot;&#39;</span>
        <span class=p>)</span>

    <span class=c1># returning self will allow to do &#39;chaining&#39; of commands after set</span>
    <span class=k>return</span> <span class=bp>self</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h6 id=trestle.core.models.elements.Element.to_json class="doc doc-heading"> <code class="highlight language-python"><span class=n>to_json</span><span class=p>(</span><span class=n>pretty</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span></code> <a href=#trestle.core.models.elements.Element.to_json class=headerlink title="Permanent link">¤</a></h6> <div class="doc doc-contents "> <p>Convert into JSON string.</p> <details class=quote> <summary>Source code in <code>trestle/core/models/elements.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>564</span>
<span class=normal>565</span>
<span class=normal>566</span>
<span class=normal>567</span>
<span class=normal>568</span>
<span class=normal>569</span>
<span class=normal>570</span>
<span class=normal>571</span>
<span class=normal>572</span>
<span class=normal>573</span>
<span class=normal>574</span>
<span class=normal>575</span>
<span class=normal>576</span>
<span class=normal>577</span>
<span class=normal>578</span>
<span class=normal>579</span>
<span class=normal>580</span>
<span class=normal>581</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>to_json</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>pretty</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>True</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Convert into JSON string.&quot;&quot;&quot;</span>
    <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>_wrapper_alias</span> <span class=o>==</span> <span class=bp>self</span><span class=o>.</span><span class=n>IGNORE_WRAPPER_ALIAS</span><span class=p>:</span>
        <span class=n>json_data</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_elem</span><span class=o>.</span><span class=n>oscal_serialize_json</span><span class=p>(</span><span class=n>pretty</span><span class=o>=</span><span class=n>pretty</span><span class=p>,</span> <span class=n>wrapped</span><span class=o>=</span><span class=kc>False</span><span class=p>)</span>

    <span class=k>else</span><span class=p>:</span>
        <span class=c1># Note before trying to edit this</span>
        <span class=c1># This transient model allows self._elem not be an OscalBaseModel (e.g. a DICT or LIST)</span>
        <span class=c1># typing need to be clarified.</span>
        <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>_elem</span><span class=p>,</span> <span class=n>OscalBaseModel</span><span class=p>):</span>
            <span class=n>json_data</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_elem</span><span class=o>.</span><span class=n>oscal_serialize_json</span><span class=p>(</span><span class=n>pretty</span><span class=o>=</span><span class=n>pretty</span><span class=p>)</span>
        <span class=k>else</span><span class=p>:</span>
            <span class=n>dynamic_passer</span> <span class=o>=</span> <span class=p>{}</span>
            <span class=n>dynamic_passer</span><span class=p>[</span><span class=s1>&#39;TransientField&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>_elem</span><span class=o>.</span><span class=vm>__class__</span><span class=p>,</span> <span class=n>Field</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>alias</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>_wrapper_alias</span><span class=p>))</span>
            <span class=n>wrapper_model</span> <span class=o>=</span> <span class=n>create_model</span><span class=p>(</span><span class=s1>&#39;TransientModel&#39;</span><span class=p>,</span> <span class=n>__base__</span><span class=o>=</span><span class=n>OscalBaseModel</span><span class=p>,</span> <span class=o>**</span><span class=n>dynamic_passer</span><span class=p>)</span>
            <span class=n>wrapped_model</span> <span class=o>=</span> <span class=n>wrapper_model</span><span class=o>.</span><span class=n>construct</span><span class=p>(</span><span class=o>**</span><span class=p>{</span><span class=bp>self</span><span class=o>.</span><span class=n>_wrapper_alias</span><span class=p>:</span> <span class=bp>self</span><span class=o>.</span><span class=n>_elem</span><span class=p>})</span>
            <span class=n>json_data</span> <span class=o>=</span> <span class=n>wrapped_model</span><span class=o>.</span><span class=n>oscal_serialize_json</span><span class=p>(</span><span class=n>pretty</span><span class=o>=</span><span class=n>pretty</span><span class=p>,</span> <span class=n>wrapped</span><span class=o>=</span><span class=kc>False</span><span class=p>)</span>
    <span class=k>return</span> <span class=n>json_data</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h6 id=trestle.core.models.elements.Element.to_yaml class="doc doc-heading"> <code class="highlight language-python"><span class=n>to_yaml</span><span class=p>()</span></code> <a href=#trestle.core.models.elements.Element.to_yaml class=headerlink title="Permanent link">¤</a></h6> <div class="doc doc-contents "> <p>Convert into YAML string.</p> <details class=quote> <summary>Source code in <code>trestle/core/models/elements.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>552</span>
<span class=normal>553</span>
<span class=normal>554</span>
<span class=normal>555</span>
<span class=normal>556</span>
<span class=normal>557</span>
<span class=normal>558</span>
<span class=normal>559</span>
<span class=normal>560</span>
<span class=normal>561</span>
<span class=normal>562</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>to_yaml</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Convert into YAML string.&quot;&quot;&quot;</span>
    <span class=n>yaml</span> <span class=o>=</span> <span class=n>YAML</span><span class=p>(</span><span class=n>typ</span><span class=o>=</span><span class=s1>&#39;safe&#39;</span><span class=p>)</span>
    <span class=n>yaml</span><span class=o>.</span><span class=n>default_flow_style</span> <span class=o>=</span> <span class=kc>False</span>
    <span class=kn>from</span><span class=w> </span><span class=nn>io</span><span class=w> </span><span class=kn>import</span> <span class=n>StringIO</span>
    <span class=n>string_stream</span> <span class=o>=</span> <span class=n>StringIO</span><span class=p>()</span>
    <span class=n>yaml</span><span class=o>.</span><span class=n>dump</span><span class=p>(</span><span class=n>yaml</span><span class=o>.</span><span class=n>load</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>to_json</span><span class=p>(</span><span class=n>pretty</span><span class=o>=</span><span class=kc>False</span><span class=p>)),</span> <span class=n>string_stream</span><span class=p>)</span>
    <span class=n>yaml_data</span> <span class=o>=</span> <span class=n>string_stream</span><span class=o>.</span><span class=n>getvalue</span><span class=p>()</span>
    <span class=n>string_stream</span><span class=o>.</span><span class=n>close</span><span class=p>()</span>

    <span class=k>return</span> <span class=n>yaml_data</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> </div> </div> </div> <div class="doc doc-object doc-class"> <h4 id=trestle.core.models.elements.ElementPath class="doc doc-heading"> <code>ElementPath</code> <a href=#trestle.core.models.elements.ElementPath class=headerlink title="Permanent link">¤</a></h4> <div class="doc doc-contents "> <p>Element path wrapper of an element.</p> <p>This only allows a single wildcard '*' at the end to denote elements of an array or dict</p> <details class=quote> <summary>Source code in <code>trestle/core/models/elements.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 36</span>
<span class=normal> 37</span>
<span class=normal> 38</span>
<span class=normal> 39</span>
<span class=normal> 40</span>
<span class=normal> 41</span>
<span class=normal> 42</span>
<span class=normal> 43</span>
<span class=normal> 44</span>
<span class=normal> 45</span>
<span class=normal> 46</span>
<span class=normal> 47</span>
<span class=normal> 48</span>
<span class=normal> 49</span>
<span class=normal> 50</span>
<span class=normal> 51</span>
<span class=normal> 52</span>
<span class=normal> 53</span>
<span class=normal> 54</span>
<span class=normal> 55</span>
<span class=normal> 56</span>
<span class=normal> 57</span>
<span class=normal> 58</span>
<span class=normal> 59</span>
<span class=normal> 60</span>
<span class=normal> 61</span>
<span class=normal> 62</span>
<span class=normal> 63</span>
<span class=normal> 64</span>
<span class=normal> 65</span>
<span class=normal> 66</span>
<span class=normal> 67</span>
<span class=normal> 68</span>
<span class=normal> 69</span>
<span class=normal> 70</span>
<span class=normal> 71</span>
<span class=normal> 72</span>
<span class=normal> 73</span>
<span class=normal> 74</span>
<span class=normal> 75</span>
<span class=normal> 76</span>
<span class=normal> 77</span>
<span class=normal> 78</span>
<span class=normal> 79</span>
<span class=normal> 80</span>
<span class=normal> 81</span>
<span class=normal> 82</span>
<span class=normal> 83</span>
<span class=normal> 84</span>
<span class=normal> 85</span>
<span class=normal> 86</span>
<span class=normal> 87</span>
<span class=normal> 88</span>
<span class=normal> 89</span>
<span class=normal> 90</span>
<span class=normal> 91</span>
<span class=normal> 92</span>
<span class=normal> 93</span>
<span class=normal> 94</span>
<span class=normal> 95</span>
<span class=normal> 96</span>
<span class=normal> 97</span>
<span class=normal> 98</span>
<span class=normal> 99</span>
<span class=normal>100</span>
<span class=normal>101</span>
<span class=normal>102</span>
<span class=normal>103</span>
<span class=normal>104</span>
<span class=normal>105</span>
<span class=normal>106</span>
<span class=normal>107</span>
<span class=normal>108</span>
<span class=normal>109</span>
<span class=normal>110</span>
<span class=normal>111</span>
<span class=normal>112</span>
<span class=normal>113</span>
<span class=normal>114</span>
<span class=normal>115</span>
<span class=normal>116</span>
<span class=normal>117</span>
<span class=normal>118</span>
<span class=normal>119</span>
<span class=normal>120</span>
<span class=normal>121</span>
<span class=normal>122</span>
<span class=normal>123</span>
<span class=normal>124</span>
<span class=normal>125</span>
<span class=normal>126</span>
<span class=normal>127</span>
<span class=normal>128</span>
<span class=normal>129</span>
<span class=normal>130</span>
<span class=normal>131</span>
<span class=normal>132</span>
<span class=normal>133</span>
<span class=normal>134</span>
<span class=normal>135</span>
<span class=normal>136</span>
<span class=normal>137</span>
<span class=normal>138</span>
<span class=normal>139</span>
<span class=normal>140</span>
<span class=normal>141</span>
<span class=normal>142</span>
<span class=normal>143</span>
<span class=normal>144</span>
<span class=normal>145</span>
<span class=normal>146</span>
<span class=normal>147</span>
<span class=normal>148</span>
<span class=normal>149</span>
<span class=normal>150</span>
<span class=normal>151</span>
<span class=normal>152</span>
<span class=normal>153</span>
<span class=normal>154</span>
<span class=normal>155</span>
<span class=normal>156</span>
<span class=normal>157</span>
<span class=normal>158</span>
<span class=normal>159</span>
<span class=normal>160</span>
<span class=normal>161</span>
<span class=normal>162</span>
<span class=normal>163</span>
<span class=normal>164</span>
<span class=normal>165</span>
<span class=normal>166</span>
<span class=normal>167</span>
<span class=normal>168</span>
<span class=normal>169</span>
<span class=normal>170</span>
<span class=normal>171</span>
<span class=normal>172</span>
<span class=normal>173</span>
<span class=normal>174</span>
<span class=normal>175</span>
<span class=normal>176</span>
<span class=normal>177</span>
<span class=normal>178</span>
<span class=normal>179</span>
<span class=normal>180</span>
<span class=normal>181</span>
<span class=normal>182</span>
<span class=normal>183</span>
<span class=normal>184</span>
<span class=normal>185</span>
<span class=normal>186</span>
<span class=normal>187</span>
<span class=normal>188</span>
<span class=normal>189</span>
<span class=normal>190</span>
<span class=normal>191</span>
<span class=normal>192</span>
<span class=normal>193</span>
<span class=normal>194</span>
<span class=normal>195</span>
<span class=normal>196</span>
<span class=normal>197</span>
<span class=normal>198</span>
<span class=normal>199</span>
<span class=normal>200</span>
<span class=normal>201</span>
<span class=normal>202</span>
<span class=normal>203</span>
<span class=normal>204</span>
<span class=normal>205</span>
<span class=normal>206</span>
<span class=normal>207</span>
<span class=normal>208</span>
<span class=normal>209</span>
<span class=normal>210</span>
<span class=normal>211</span>
<span class=normal>212</span>
<span class=normal>213</span>
<span class=normal>214</span>
<span class=normal>215</span>
<span class=normal>216</span>
<span class=normal>217</span>
<span class=normal>218</span>
<span class=normal>219</span>
<span class=normal>220</span>
<span class=normal>221</span>
<span class=normal>222</span>
<span class=normal>223</span>
<span class=normal>224</span>
<span class=normal>225</span>
<span class=normal>226</span>
<span class=normal>227</span>
<span class=normal>228</span>
<span class=normal>229</span>
<span class=normal>230</span>
<span class=normal>231</span>
<span class=normal>232</span>
<span class=normal>233</span>
<span class=normal>234</span>
<span class=normal>235</span>
<span class=normal>236</span>
<span class=normal>237</span>
<span class=normal>238</span>
<span class=normal>239</span>
<span class=normal>240</span>
<span class=normal>241</span>
<span class=normal>242</span>
<span class=normal>243</span>
<span class=normal>244</span>
<span class=normal>245</span>
<span class=normal>246</span>
<span class=normal>247</span>
<span class=normal>248</span>
<span class=normal>249</span>
<span class=normal>250</span>
<span class=normal>251</span>
<span class=normal>252</span>
<span class=normal>253</span>
<span class=normal>254</span>
<span class=normal>255</span>
<span class=normal>256</span>
<span class=normal>257</span>
<span class=normal>258</span>
<span class=normal>259</span>
<span class=normal>260</span>
<span class=normal>261</span>
<span class=normal>262</span>
<span class=normal>263</span>
<span class=normal>264</span>
<span class=normal>265</span>
<span class=normal>266</span>
<span class=normal>267</span>
<span class=normal>268</span>
<span class=normal>269</span>
<span class=normal>270</span>
<span class=normal>271</span>
<span class=normal>272</span>
<span class=normal>273</span>
<span class=normal>274</span>
<span class=normal>275</span>
<span class=normal>276</span>
<span class=normal>277</span>
<span class=normal>278</span>
<span class=normal>279</span>
<span class=normal>280</span>
<span class=normal>281</span>
<span class=normal>282</span>
<span class=normal>283</span>
<span class=normal>284</span>
<span class=normal>285</span>
<span class=normal>286</span>
<span class=normal>287</span>
<span class=normal>288</span>
<span class=normal>289</span>
<span class=normal>290</span>
<span class=normal>291</span>
<span class=normal>292</span>
<span class=normal>293</span>
<span class=normal>294</span>
<span class=normal>295</span>
<span class=normal>296</span>
<span class=normal>297</span>
<span class=normal>298</span>
<span class=normal>299</span>
<span class=normal>300</span>
<span class=normal>301</span>
<span class=normal>302</span>
<span class=normal>303</span>
<span class=normal>304</span>
<span class=normal>305</span>
<span class=normal>306</span>
<span class=normal>307</span>
<span class=normal>308</span>
<span class=normal>309</span>
<span class=normal>310</span>
<span class=normal>311</span>
<span class=normal>312</span>
<span class=normal>313</span>
<span class=normal>314</span>
<span class=normal>315</span>
<span class=normal>316</span>
<span class=normal>317</span>
<span class=normal>318</span>
<span class=normal>319</span>
<span class=normal>320</span>
<span class=normal>321</span>
<span class=normal>322</span>
<span class=normal>323</span>
<span class=normal>324</span>
<span class=normal>325</span>
<span class=normal>326</span>
<span class=normal>327</span>
<span class=normal>328</span>
<span class=normal>329</span>
<span class=normal>330</span>
<span class=normal>331</span>
<span class=normal>332</span>
<span class=normal>333</span>
<span class=normal>334</span>
<span class=normal>335</span>
<span class=normal>336</span>
<span class=normal>337</span>
<span class=normal>338</span>
<span class=normal>339</span>
<span class=normal>340</span>
<span class=normal>341</span>
<span class=normal>342</span>
<span class=normal>343</span>
<span class=normal>344</span>
<span class=normal>345</span>
<span class=normal>346</span>
<span class=normal>347</span>
<span class=normal>348</span>
<span class=normal>349</span>
<span class=normal>350</span>
<span class=normal>351</span>
<span class=normal>352</span>
<span class=normal>353</span>
<span class=normal>354</span>
<span class=normal>355</span>
<span class=normal>356</span>
<span class=normal>357</span>
<span class=normal>358</span>
<span class=normal>359</span>
<span class=normal>360</span>
<span class=normal>361</span>
<span class=normal>362</span>
<span class=normal>363</span>
<span class=normal>364</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>class</span><span class=w> </span><span class=nc>ElementPath</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Element path wrapper of an element.</span>

<span class=sd>    This only allows a single wildcard &#39;*&#39; at the end to denote elements of an array or dict</span>
<span class=sd>    &quot;&quot;&quot;</span>

    <span class=n>PATH_SEPARATOR</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=n>const</span><span class=o>.</span><span class=n>ALIAS_PATH_SEPARATOR</span>

    <span class=n>WILDCARD</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=s1>&#39;*&#39;</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>element_path</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>parent_path</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=s1>&#39;ElementPath&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Initialize an element wrapper.</span>

<span class=sd>        It assumes the element path contains oscal field alias with hyphens only</span>
<span class=sd>        &quot;&quot;&quot;</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_parent_path</span> <span class=o>=</span> <span class=n>parent_path</span>

        <span class=bp>self</span><span class=o>.</span><span class=n>_path</span><span class=p>:</span> <span class=n>List</span><span class=p>[</span><span class=nb>str</span><span class=p>]</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_parse</span><span class=p>(</span><span class=n>element_path</span><span class=p>)</span>

        <span class=c1># Initialize private variables for lazy processing and caching</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_element_name</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>str</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_preceding_path</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=s1>&#39;ElementPath&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span>

    <span class=k>def</span><span class=w> </span><span class=nf>_parse</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>element_path</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>List</span><span class=p>[</span><span class=nb>str</span><span class=p>]:</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Parse the element path and validate.&quot;&quot;&quot;</span>
        <span class=n>parts</span><span class=p>:</span> <span class=n>List</span><span class=p>[</span><span class=nb>str</span><span class=p>]</span> <span class=o>=</span> <span class=n>element_path</span><span class=o>.</span><span class=n>split</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>PATH_SEPARATOR</span><span class=p>)</span>

        <span class=k>for</span> <span class=n>part</span> <span class=ow>in</span> <span class=n>parts</span><span class=p>:</span>
            <span class=k>if</span> <span class=n>part</span> <span class=o>==</span> <span class=s1>&#39;&#39;</span><span class=p>:</span>
                <span class=k>raise</span> <span class=n>TrestleError</span><span class=p>(</span>
                    <span class=sa>f</span><span class=s1>&#39;Invalid path &quot;</span><span class=si>{</span><span class=n>element_path</span><span class=si>}</span><span class=s1>&quot; because there are empty path parts between &quot;</span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>PATH_SEPARATOR</span><span class=si>}</span><span class=s1>&quot; &#39;</span>
                    <span class=s1>&#39;or in the beginning&#39;</span>
                <span class=p>)</span>

        <span class=k>if</span> <span class=n>parts</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span> <span class=o>==</span> <span class=bp>self</span><span class=o>.</span><span class=n>WILDCARD</span><span class=p>:</span>
            <span class=k>raise</span> <span class=n>TrestleError</span><span class=p>(</span><span class=sa>f</span><span class=s1>&#39;Invalid path </span><span class=si>{</span><span class=n>element_path</span><span class=si>}</span><span class=s1> with wildcard.&#39;</span><span class=p>)</span>
        <span class=k>return</span> <span class=n>parts</span>

    <span class=k>def</span><span class=w> </span><span class=nf>get</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>List</span><span class=p>[</span><span class=nb>str</span><span class=p>]:</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Return the path parts as a list.&quot;&quot;&quot;</span>
        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_path</span>

    <span class=k>def</span><span class=w> </span><span class=nf>get_type</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>root_model</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=n>Type</span><span class=p>[</span><span class=n>Any</span><span class=p>]]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>use_parent</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Type</span><span class=p>[</span><span class=n>Any</span><span class=p>]:</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Get the type of an element.</span>

<span class=sd>        If possible the model type will be derived from one of the top level models,</span>
<span class=sd>        otherwise a &#39;root model&#39; can be passed for situations where this is not possible.</span>

<span class=sd>        This type path should *NOT* have wild cards in it. It *may* have* indices.</span>
<span class=sd>        Valid Examples:</span>
<span class=sd>            catalog.metadata</span>
<span class=sd>            catalog.groups</span>
<span class=sd>            catalog.groups.group</span>
<span class=sd>            catalog</span>
<span class=sd>            catalog.groups.0</span>

<span class=sd>        Args:</span>
<span class=sd>            root_model: An OscalBaseModel Type from which to base the approach on.</span>
<span class=sd>            use_parent: Whether or not to normalise the full path across parent ElementPaths, default to not.</span>

<span class=sd>        Returns:</span>
<span class=sd>            The type of the model whether or not it is an OscalBaseModel or not.</span>
<span class=sd>        &quot;&quot;&quot;</span>
        <span class=n>effective_path</span><span class=p>:</span> <span class=n>List</span><span class=p>[</span><span class=nb>str</span><span class=p>]</span>
        <span class=k>if</span> <span class=n>use_parent</span><span class=p>:</span>
            <span class=n>effective_path</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>get_full_path_parts</span><span class=p>()</span>
        <span class=k>else</span><span class=p>:</span>
            <span class=n>effective_path</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_path</span>

        <span class=k>if</span> <span class=ow>not</span> <span class=n>root_model</span><span class=p>:</span>
            <span class=c1># lookup root model from top level oscal models or fail</span>
            <span class=n>prev_model</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_top_level_type_lookup</span><span class=p>(</span><span class=n>effective_path</span><span class=p>[</span><span class=mi>0</span><span class=p>])</span>
        <span class=k>else</span><span class=p>:</span>
            <span class=n>prev_model</span> <span class=o>=</span> <span class=n>root_model</span>
        <span class=k>if</span> <span class=nb>len</span><span class=p>(</span><span class=n>effective_path</span><span class=p>)</span> <span class=o>==</span> <span class=mi>1</span><span class=p>:</span>
            <span class=k>return</span> <span class=n>prev_model</span>
        <span class=c1># variables</span>
        <span class=c1># for current_element_str in effective_path[1:]:</span>
        <span class=k>for</span> <span class=n>current_element_str</span> <span class=ow>in</span> <span class=n>effective_path</span><span class=p>[</span><span class=mi>1</span><span class=p>:]:</span>
            <span class=c1># Determine if the parent model is a collection.</span>
            <span class=k>if</span> <span class=n>utils</span><span class=o>.</span><span class=n>is_collection_field_type</span><span class=p>(</span><span class=n>prev_model</span><span class=p>):</span>
                <span class=n>inner_model</span> <span class=o>=</span> <span class=n>utils</span><span class=o>.</span><span class=n>get_inner_type</span><span class=p>(</span><span class=n>prev_model</span><span class=p>)</span>
                <span class=n>inner_class_name</span> <span class=o>=</span> <span class=n>classname_to_alias</span><span class=p>(</span><span class=n>inner_model</span><span class=o>.</span><span class=vm>__name__</span><span class=p>,</span> <span class=n>AliasMode</span><span class=o>.</span><span class=n>JSON</span><span class=p>)</span>
                <span class=c1># Assert that the current name fits an expected form.</span>
                <span class=c1># Valid choices here are *, integer (for arrays) and the inner model alias</span>
                <span class=k>if</span> <span class=p>(</span><span class=n>inner_class_name</span> <span class=o>==</span> <span class=n>current_element_str</span> <span class=ow>or</span> <span class=n>current_element_str</span> <span class=o>==</span> <span class=bp>self</span><span class=o>.</span><span class=n>WILDCARD</span>
                        <span class=ow>or</span> <span class=n>current_element_str</span><span class=o>.</span><span class=n>isnumeric</span><span class=p>()):</span>
                    <span class=n>prev_model</span> <span class=o>=</span> <span class=n>inner_model</span>

                <span class=k>else</span><span class=p>:</span>
                    <span class=k>raise</span> <span class=n>TrestleError</span><span class=p>(</span><span class=s1>&#39;Unexpected key in element path when finding type.&#39;</span><span class=p>)</span>

            <span class=k>else</span><span class=p>:</span>
                <span class=c1># Indices, * are not allowed on non-collection types</span>
                <span class=k>if</span> <span class=n>current_element_str</span> <span class=o>==</span> <span class=bp>self</span><span class=o>.</span><span class=n>WILDCARD</span><span class=p>:</span>
                    <span class=k>raise</span> <span class=n>TrestleError</span><span class=p>(</span>
                        <span class=s1>&#39;Wild card in unexpected position when trying to find class type.&#39;</span>
                        <span class=o>+</span> <span class=s1>&#39; Element path type lookup can only occur where a single type can be identified.&#39;</span>
                    <span class=p>)</span>
                <span class=n>prev_model</span> <span class=o>=</span> <span class=n>prev_model</span><span class=o>.</span><span class=n>alias_to_field_map</span><span class=p>()[</span><span class=n>current_element_str</span><span class=p>]</span><span class=o>.</span><span class=n>outer_type_</span>
        <span class=k>return</span> <span class=n>prev_model</span>

    <span class=k>def</span><span class=w> </span><span class=nf>get_obm_wrapped_type</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span>
                             <span class=n>root_model</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=n>Type</span><span class=p>[</span><span class=n>Any</span><span class=p>]]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
                             <span class=n>use_parent</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Type</span><span class=p>[</span><span class=n>OscalBaseModel</span><span class=p>]:</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Get the type of the element. Wraps the collection type in an OscalBaseModel as a __root__ element.</span>

<span class=sd>        This should principally be used for validating content.</span>

<span class=sd>        Args:</span>
<span class=sd>            root_model: An OscalBaseModel Type from which to base the approach on.</span>
<span class=sd>            use_parent: Whether or not to normalise the full path across parent ElementPaths, default to not.</span>

<span class=sd>        Returns:</span>
<span class=sd>            The type of the model whether wrapped or not as an OscalBaseModel.</span>
<span class=sd>        &quot;&quot;&quot;</span>
        <span class=n>base_type</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>get_type</span><span class=p>(</span><span class=n>root_model</span><span class=p>,</span> <span class=n>use_parent</span><span class=p>)</span>
        <span class=c1># Get an outer model type.</span>
        <span class=n>origin_type</span> <span class=o>=</span> <span class=n>utils</span><span class=o>.</span><span class=n>get_origin</span><span class=p>(</span><span class=n>base_type</span><span class=p>)</span>

        <span class=k>if</span> <span class=n>origin_type</span> <span class=ow>in</span> <span class=p>[</span><span class=nb>list</span><span class=p>,</span> <span class=nb>dict</span><span class=p>]:</span>
            <span class=c1># OSCAL does not support collections of collections directly. We should not hit this scenario</span>
            <span class=n>collection_name</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>get_last</span><span class=p>()</span>
            <span class=k>if</span> <span class=n>collection_name</span> <span class=o>==</span> <span class=bp>self</span><span class=o>.</span><span class=n>WILDCARD</span><span class=p>:</span>
                <span class=n>logger</span><span class=o>.</span><span class=n>critical</span><span class=p>(</span><span class=s1>&#39;Unexpected error in type system when inferring type from element path.&#39;</span><span class=p>)</span>
                <span class=n>logger</span><span class=o>.</span><span class=n>critical</span><span class=p>(</span><span class=s1>&#39;Please report this issue.&#39;</span><span class=p>)</span>
                <span class=k>raise</span> <span class=n>TrestleError</span><span class=p>(</span><span class=s1>&#39;Unknown error inferring type from element path.&#39;</span><span class=p>)</span>
            <span class=c1># Final path must be the alias</span>

            <span class=n>new_base_type</span> <span class=o>=</span> <span class=n>create_model</span><span class=p>(</span>
                <span class=n>str_utils</span><span class=o>.</span><span class=n>alias_to_classname</span><span class=p>(</span><span class=n>collection_name</span><span class=p>,</span> <span class=n>AliasMode</span><span class=o>.</span><span class=n>JSON</span><span class=p>),</span>
                <span class=n>__base__</span><span class=o>=</span><span class=n>OscalBaseModel</span><span class=p>,</span>
                <span class=n>__root__</span><span class=o>=</span><span class=p>(</span><span class=n>base_type</span><span class=p>,</span> <span class=o>...</span><span class=p>)</span>
            <span class=p>)</span>
            <span class=k>return</span> <span class=n>new_base_type</span>
        <span class=k>return</span> <span class=n>base_type</span>

    <span class=k>def</span><span class=w> </span><span class=nf>_top_level_type_lookup</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>element_str</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Type</span><span class=p>[</span><span class=n>common_types</span><span class=o>.</span><span class=n>TopLevelOscalModel</span><span class=p>]:</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;From an individual element tag, induce the type of the model.</span>

<span class=sd>        Args:</span>
<span class=sd>            element_str: individual element as text such as &#39;catalog&#39; or &#39;profile&#39;</span>

<span class=sd>        Returns:</span>
<span class=sd>            Top level object model such as catalog, profile etc.</span>
<span class=sd>        &quot;&quot;&quot;</span>
        <span class=c1># Even though awkward use chain of models.</span>
        <span class=k>if</span> <span class=n>element_str</span> <span class=ow>not</span> <span class=ow>in</span> <span class=n>const</span><span class=o>.</span><span class=n>MODEL_TYPE_LIST</span><span class=p>:</span>
            <span class=k>raise</span> <span class=n>TrestleError</span><span class=p>(</span><span class=sa>f</span><span class=s1>&#39;</span><span class=si>{</span><span class=n>element_str</span><span class=si>}</span><span class=s1> is not a top level model (e.g. catalog, profile)&#39;</span><span class=p>)</span>
        <span class=n>model_package</span> <span class=o>=</span> <span class=n>const</span><span class=o>.</span><span class=n>MODEL_TYPE_TO_MODEL_MODULE</span><span class=p>[</span><span class=n>element_str</span><span class=p>]</span>
        <span class=n>object_type</span><span class=p>,</span> <span class=n>_</span> <span class=o>=</span> <span class=n>ModelUtils</span><span class=o>.</span><span class=n>get_root_model</span><span class=p>(</span><span class=n>model_package</span><span class=p>)</span>
        <span class=n>object_type</span> <span class=o>=</span> <span class=n>cast</span><span class=p>(</span><span class=n>Type</span><span class=p>[</span><span class=n>common_types</span><span class=o>.</span><span class=n>TopLevelOscalModel</span><span class=p>],</span> <span class=n>object_type</span><span class=p>)</span>
        <span class=k>return</span> <span class=n>object_type</span>

    <span class=k>def</span><span class=w> </span><span class=nf>is_multipart</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>bool</span><span class=p>:</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Assert whether or not an element path is multiple parts.</span>

<span class=sd>        Originally element paths had to have multiple paths.</span>
<span class=sd>        This provides a check for higher level code that still has that requirement.</span>

<span class=sd>        Single part:</span>
<span class=sd>            catalog</span>
<span class=sd>            control</span>
<span class=sd>            assessment-results</span>

<span class=sd>        Multipart:</span>
<span class=sd>            catalog.metadata</span>
<span class=sd>            catalog.controls.control</span>
<span class=sd>        &quot;&quot;&quot;</span>
        <span class=k>return</span> <span class=nb>len</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>_path</span><span class=p>)</span> <span class=o>&gt;</span> <span class=mi>1</span>

    <span class=k>def</span><span class=w> </span><span class=nf>to_string</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Return the path parts as a dot-separated string.&quot;&quot;&quot;</span>
        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>PATH_SEPARATOR</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>get</span><span class=p>())</span>

    <span class=k>def</span><span class=w> </span><span class=nf>get_parent</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=s1>&#39;ElementPath&#39;</span><span class=p>:</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Return the parent path.</span>

<span class=sd>        It can be None or a valid ElementPath</span>
<span class=sd>        &quot;&quot;&quot;</span>
        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_parent_path</span>

    <span class=k>def</span><span class=w> </span><span class=nf>get_first</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Return the first part of the path.&quot;&quot;&quot;</span>
        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_path</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span>

    <span class=k>def</span><span class=w> </span><span class=nf>get_last</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Return the last part of the path.&quot;&quot;&quot;</span>
        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_path</span><span class=p>[</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span>

    <span class=k>def</span><span class=w> </span><span class=nf>get_full</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Return the full path including parent path parts as a dot separated str.&quot;&quot;&quot;</span>
        <span class=n>all_parts</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>get_full_path_parts</span><span class=p>()</span>
        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>PATH_SEPARATOR</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>all_parts</span><span class=p>)</span>

    <span class=k>def</span><span class=w> </span><span class=nf>get_element_name</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Return the element alias name from the path.</span>

<span class=sd>        Essentailly this the last part of the element path</span>
<span class=sd>        &quot;&quot;&quot;</span>
        <span class=c1># if it is available then return otherwise compute</span>
        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>_element_name</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
            <span class=n>element_name</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>get_last</span><span class=p>()</span>
            <span class=k>if</span> <span class=n>element_name</span> <span class=o>==</span> <span class=bp>self</span><span class=o>.</span><span class=n>WILDCARD</span><span class=p>:</span>
                <span class=n>element_name</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_path</span><span class=p>[</span><span class=o>-</span><span class=mi>2</span><span class=p>]</span>

            <span class=bp>self</span><span class=o>.</span><span class=n>_element_name</span> <span class=o>=</span> <span class=n>element_name</span>

        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_element_name</span>

    <span class=k>def</span><span class=w> </span><span class=nf>get_full_path_parts</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>List</span><span class=p>[</span><span class=nb>str</span><span class=p>]:</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Get full path parts to the element including parent path parts as a list.&quot;&quot;&quot;</span>
        <span class=n>path_parts</span> <span class=o>=</span> <span class=p>[]</span>
        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>get_parent</span><span class=p>()</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span><span class=p>:</span>
            <span class=n>parent_path_parts</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>get_parent</span><span class=p>()</span><span class=o>.</span><span class=n>get_full_path_parts</span><span class=p>()</span>
            <span class=n>path_parts</span><span class=o>.</span><span class=n>extend</span><span class=p>(</span><span class=n>parent_path_parts</span><span class=p>)</span>
            <span class=n>path_parts</span><span class=o>.</span><span class=n>extend</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>get</span><span class=p>()[</span><span class=mi>1</span><span class=p>:])</span>  <span class=c1># don&#39;t use the first part</span>
        <span class=k>else</span><span class=p>:</span>
            <span class=n>path_parts</span><span class=o>.</span><span class=n>extend</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>get</span><span class=p>())</span>

        <span class=k>return</span> <span class=n>path_parts</span>

    <span class=k>def</span><span class=w> </span><span class=nf>get_preceding_path</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=s1>&#39;ElementPath&#39;</span><span class=p>:</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Return the element path to the preceding element in the path.&quot;&quot;&quot;</span>
        <span class=c1># if it is available then return otherwise compute</span>
        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>_preceding_path</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
            <span class=n>path_parts</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>get_full_path_parts</span><span class=p>()</span>

            <span class=k>if</span> <span class=nb>len</span><span class=p>(</span><span class=n>path_parts</span><span class=p>)</span> <span class=o>&gt;</span> <span class=mi>1</span><span class=p>:</span>
                <span class=n>prec_path_parts</span> <span class=o>=</span> <span class=n>path_parts</span><span class=p>[:</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span>
                <span class=bp>self</span><span class=o>.</span><span class=n>_preceding_path</span> <span class=o>=</span> <span class=n>ElementPath</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>PATH_SEPARATOR</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>prec_path_parts</span><span class=p>))</span>

        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_preceding_path</span>

    <span class=k>def</span><span class=w> </span><span class=nf>find_last_file_in_path</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>content_type</span><span class=p>:</span> <span class=n>FileContentType</span><span class=p>,</span> <span class=n>model_dir</span><span class=p>:</span> <span class=n>pathlib</span><span class=o>.</span><span class=n>Path</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>pathlib</span><span class=o>.</span><span class=n>Path</span><span class=p>:</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Find the last (nearest) existing file in the element path leading to this element.&quot;&quot;&quot;</span>
        <span class=c1># model dir is the top level dir for this model, e.g. catalogs/mycat</span>
        <span class=n>path</span> <span class=o>=</span> <span class=n>model_dir</span>
        <span class=n>extension</span> <span class=o>=</span> <span class=n>FileContentType</span><span class=o>.</span><span class=n>to_file_extension</span><span class=p>(</span><span class=n>content_type</span><span class=p>)</span>
        <span class=n>good_model</span><span class=p>:</span> <span class=n>pathlib</span><span class=o>.</span><span class=n>Path</span> <span class=o>=</span> <span class=kc>None</span>
        <span class=k>for</span> <span class=n>element</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>_path</span><span class=p>:</span>
            <span class=k>if</span> <span class=n>element</span> <span class=o>==</span> <span class=s1>&#39;*&#39;</span><span class=p>:</span>
                <span class=k>break</span>
            <span class=n>model_file</span> <span class=o>=</span> <span class=p>(</span><span class=n>path</span> <span class=o>/</span> <span class=n>element</span><span class=p>)</span><span class=o>.</span><span class=n>with_suffix</span><span class=p>(</span><span class=n>extension</span><span class=p>)</span>
            <span class=k>if</span> <span class=ow>not</span> <span class=n>model_file</span><span class=o>.</span><span class=n>exists</span><span class=p>():</span>
                <span class=k>break</span>
            <span class=n>path</span> <span class=o>=</span> <span class=n>path</span> <span class=o>/</span> <span class=n>element</span>
            <span class=n>good_model</span> <span class=o>=</span> <span class=n>model_file</span>
        <span class=k>return</span> <span class=n>good_model</span>

    <span class=k>def</span><span class=w> </span><span class=nf>make_absolute</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>model_dir</span><span class=p>:</span> <span class=n>pathlib</span><span class=o>.</span><span class=n>Path</span><span class=p>,</span> <span class=n>reference_dir</span><span class=p>:</span> <span class=n>pathlib</span><span class=o>.</span><span class=n>Path</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Make the parts absolute from the top model dir.&quot;&quot;&quot;</span>
        <span class=c1># Match the current relative element path to the model directory and reference directory</span>
        <span class=c1># If the element path is partial and doesn&#39;t connect to the top of the model,</span>
        <span class=c1># need to deduce absolute element path from the model_dir and the reference directory</span>
        <span class=c1># that corresponds to the root of the element path</span>

        <span class=c1># if first element is a model type it is already absolute</span>
        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>_path</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span> <span class=ow>not</span> <span class=ow>in</span> <span class=n>const</span><span class=o>.</span><span class=n>MODEL_TYPE_LIST</span><span class=p>:</span>
            <span class=n>rel_path</span> <span class=o>=</span> <span class=nb>list</span><span class=p>(</span><span class=n>reference_dir</span><span class=o>.</span><span class=n>relative_to</span><span class=p>(</span><span class=n>model_dir</span><span class=p>)</span><span class=o>.</span><span class=n>parts</span><span class=p>)</span>
            <span class=n>rel_path</span><span class=o>.</span><span class=n>extend</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>_path</span><span class=p>)</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>_path</span> <span class=o>=</span> <span class=n>rel_path</span>

    <span class=k>def</span><span class=w> </span><span class=nf>make_relative</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>model_relative_path</span><span class=p>:</span> <span class=n>pathlib</span><span class=o>.</span><span class=n>Path</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>int</span><span class=p>:</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Make the parts relative to the model path.&quot;&quot;&quot;</span>
        <span class=c1># The element path should currently be absolute</span>
        <span class=c1># The model relative path should be relative to the top leve of the model</span>
        <span class=c1># Change the element path to be relative to the model being loaded</span>
        <span class=c1># Returns 0 on success and 1 on failur</span>
        <span class=n>rel_path_parts</span> <span class=o>=</span> <span class=n>model_relative_path</span><span class=o>.</span><span class=n>parts</span><span class=p>[:</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span>
        <span class=n>n_rel_parts</span> <span class=o>=</span> <span class=nb>len</span><span class=p>(</span><span class=n>rel_path_parts</span><span class=p>)</span>
        <span class=c1># the element path can&#39;t start above the model path</span>
        <span class=k>if</span> <span class=n>n_rel_parts</span> <span class=o>&gt;=</span> <span class=nb>len</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>_path</span><span class=p>):</span>
            <span class=k>return</span> <span class=mi>1</span>
        <span class=c1># confirm the leading parts match</span>
        <span class=k>for</span> <span class=n>ii</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>n_rel_parts</span><span class=p>):</span>
            <span class=k>if</span> <span class=n>rel_path_parts</span><span class=p>[</span><span class=n>ii</span><span class=p>]</span> <span class=o>!=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_path</span><span class=p>[</span><span class=n>ii</span><span class=p>]:</span>
                <span class=k>return</span> <span class=mi>1</span>
        <span class=c1># chop off the leading parts of the absolute element path</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_path</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_path</span><span class=p>[</span><span class=n>n_rel_parts</span><span class=p>:]</span>
        <span class=k>return</span> <span class=mi>0</span>

    <span class=k>def</span><span class=w> </span><span class=nf>to_file_path</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>content_type</span><span class=p>:</span> <span class=n>FileContentType</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>root_dir</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=s1>&#39;&#39;</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>pathlib</span><span class=o>.</span><span class=n>Path</span><span class=p>:</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Convert to a file or directory path for the element path.</span>

<span class=sd>        if content_type is not passed, it will return a path for directory</span>
<span class=sd>        &quot;&quot;&quot;</span>
        <span class=n>path_parts</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>get</span><span class=p>()</span>

        <span class=c1># skip wildcard</span>
        <span class=k>if</span> <span class=n>path_parts</span><span class=p>[</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span> <span class=o>==</span> <span class=n>ElementPath</span><span class=o>.</span><span class=n>WILDCARD</span><span class=p>:</span>
            <span class=n>path_parts</span> <span class=o>=</span> <span class=n>path_parts</span><span class=p>[:</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span>

        <span class=k>if</span> <span class=n>root_dir</span> <span class=o>!=</span> <span class=s1>&#39;&#39;</span><span class=p>:</span>
            <span class=n>path_parts</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span> <span class=o>=</span> <span class=n>root_dir</span>

        <span class=n>path_str</span> <span class=o>=</span> <span class=s1>&#39;/&#39;</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>path_parts</span><span class=p>)</span>

        <span class=c1># add file extension if required</span>
        <span class=c1># this will be omitted if it is a dir path</span>
        <span class=k>if</span> <span class=n>content_type</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span><span class=p>:</span>
            <span class=n>file_extension</span> <span class=o>=</span> <span class=n>FileContentType</span><span class=o>.</span><span class=n>to_file_extension</span><span class=p>(</span><span class=n>content_type</span><span class=p>)</span>
            <span class=n>path_str</span> <span class=o>=</span> <span class=n>path_str</span> <span class=o>+</span> <span class=n>file_extension</span>

        <span class=c1># prepare the path</span>
        <span class=n>file_path</span><span class=p>:</span> <span class=n>pathlib</span><span class=o>.</span><span class=n>Path</span> <span class=o>=</span> <span class=n>pathlib</span><span class=o>.</span><span class=n>Path</span><span class=p>(</span><span class=sa>f</span><span class=s1>&#39;./</span><span class=si>{</span><span class=n>path_str</span><span class=si>}</span><span class=s1>&#39;</span><span class=p>)</span>

        <span class=k>return</span> <span class=n>file_path</span>

    <span class=k>def</span><span class=w> </span><span class=nf>to_root_path</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>content_type</span><span class=p>:</span> <span class=n>FileContentType</span> <span class=o>=</span> <span class=kc>None</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>pathlib</span><span class=o>.</span><span class=n>Path</span><span class=p>:</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Convert to a file path for the element root.&quot;&quot;&quot;</span>
        <span class=n>path_str</span> <span class=o>=</span> <span class=sa>f</span><span class=s1>&#39;./</span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>get_first</span><span class=p>()</span><span class=si>}</span><span class=s1>&#39;</span>
        <span class=k>if</span> <span class=n>content_type</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span><span class=p>:</span>
            <span class=n>file_extension</span> <span class=o>=</span> <span class=n>FileContentType</span><span class=o>.</span><span class=n>to_file_extension</span><span class=p>(</span><span class=n>content_type</span><span class=p>)</span>
            <span class=n>path_str</span> <span class=o>=</span> <span class=n>path_str</span> <span class=o>+</span> <span class=n>file_extension</span>

        <span class=n>file_path</span><span class=p>:</span> <span class=n>pathlib</span><span class=o>.</span><span class=n>Path</span> <span class=o>=</span> <span class=n>pathlib</span><span class=o>.</span><span class=n>Path</span><span class=p>(</span><span class=n>path_str</span><span class=p>)</span>
        <span class=k>return</span> <span class=n>file_path</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__str__</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Return string representation of element path.&quot;&quot;&quot;</span>
        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>to_string</span><span class=p>()</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__eq__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>other</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>bool</span><span class=p>:</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Override equality method.&quot;&quot;&quot;</span>
        <span class=k>if</span> <span class=ow>not</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>other</span><span class=p>,</span> <span class=n>ElementPath</span><span class=p>):</span>
            <span class=k>return</span> <span class=kc>False</span>

        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>get</span><span class=p>()</span> <span class=o>==</span> <span class=n>other</span><span class=o>.</span><span class=n>get</span><span class=p>()</span>
</code></pre></div></td></tr></table></div> </details> <div class="doc doc-children"> <h5 id=trestle.core.models.elements.ElementPath-attributes>Attributes<a href=#trestle.core.models.elements.ElementPath-attributes class=headerlink title="Permanent link">¤</a></h5> <div class="doc doc-object doc-attribute"> <h6 id=trestle.core.models.elements.ElementPath.PATH_SEPARATOR class="doc doc-heading"> <code class="highlight language-python"><span class=n>PATH_SEPARATOR</span> <span class=o>=</span> <span class=n>const</span><span class=o>.</span><span class=n>ALIAS_PATH_SEPARATOR</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small> <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small> </span> <a href=#trestle.core.models.elements.ElementPath.PATH_SEPARATOR class=headerlink title="Permanent link">¤</a></h6> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h6 id=trestle.core.models.elements.ElementPath.WILDCARD class="doc doc-heading"> <code class="highlight language-python"><span class=n>WILDCARD</span> <span class=o>=</span> <span class=s1>&#39;*&#39;</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small> <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small> </span> <a href=#trestle.core.models.elements.ElementPath.WILDCARD class=headerlink title="Permanent link">¤</a></h6> <div class="doc doc-contents "> </div> </div> <h5 id=trestle.core.models.elements.ElementPath-functions>Functions<a href=#trestle.core.models.elements.ElementPath-functions class=headerlink title="Permanent link">¤</a></h5> <div class="doc doc-object doc-function"> <h6 id=trestle.core.models.elements.ElementPath.__eq__ class="doc doc-heading"> <code class="highlight language-python"><span class=fm>__eq__</span><span class=p>(</span><span class=n>other</span><span class=p>)</span></code> <a href=#trestle.core.models.elements.ElementPath.__eq__ class=headerlink title="Permanent link">¤</a></h6> <div class="doc doc-contents "> <p>Override equality method.</p> <details class=quote> <summary>Source code in <code>trestle/core/models/elements.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>359</span>
<span class=normal>360</span>
<span class=normal>361</span>
<span class=normal>362</span>
<span class=normal>363</span>
<span class=normal>364</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=fm>__eq__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>other</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>bool</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Override equality method.&quot;&quot;&quot;</span>
    <span class=k>if</span> <span class=ow>not</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>other</span><span class=p>,</span> <span class=n>ElementPath</span><span class=p>):</span>
        <span class=k>return</span> <span class=kc>False</span>

    <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>get</span><span class=p>()</span> <span class=o>==</span> <span class=n>other</span><span class=o>.</span><span class=n>get</span><span class=p>()</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h6 id=trestle.core.models.elements.ElementPath.__init__ class="doc doc-heading"> <code class="highlight language-python"><span class=fm>__init__</span><span class=p>(</span><span class=n>element_path</span><span class=p>,</span> <span class=n>parent_path</span><span class=o>=</span><span class=kc>None</span><span class=p>)</span></code> <a href=#trestle.core.models.elements.ElementPath.__init__ class=headerlink title="Permanent link">¤</a></h6> <div class="doc doc-contents "> <p>Initialize an element wrapper.</p> <p>It assumes the element path contains oscal field alias with hyphens only</p> <details class=quote> <summary>Source code in <code>trestle/core/models/elements.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>46</span>
<span class=normal>47</span>
<span class=normal>48</span>
<span class=normal>49</span>
<span class=normal>50</span>
<span class=normal>51</span>
<span class=normal>52</span>
<span class=normal>53</span>
<span class=normal>54</span>
<span class=normal>55</span>
<span class=normal>56</span>
<span class=normal>57</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>element_path</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>parent_path</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=s1>&#39;ElementPath&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Initialize an element wrapper.</span>

<span class=sd>    It assumes the element path contains oscal field alias with hyphens only</span>
<span class=sd>    &quot;&quot;&quot;</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>_parent_path</span> <span class=o>=</span> <span class=n>parent_path</span>

    <span class=bp>self</span><span class=o>.</span><span class=n>_path</span><span class=p>:</span> <span class=n>List</span><span class=p>[</span><span class=nb>str</span><span class=p>]</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_parse</span><span class=p>(</span><span class=n>element_path</span><span class=p>)</span>

    <span class=c1># Initialize private variables for lazy processing and caching</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>_element_name</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>str</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>_preceding_path</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=s1>&#39;ElementPath&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h6 id=trestle.core.models.elements.ElementPath.__str__ class="doc doc-heading"> <code class="highlight language-python"><span class=fm>__str__</span><span class=p>()</span></code> <a href=#trestle.core.models.elements.ElementPath.__str__ class=headerlink title="Permanent link">¤</a></h6> <div class="doc doc-contents "> <p>Return string representation of element path.</p> <details class=quote> <summary>Source code in <code>trestle/core/models/elements.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>355</span>
<span class=normal>356</span>
<span class=normal>357</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=fm>__str__</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Return string representation of element path.&quot;&quot;&quot;</span>
    <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>to_string</span><span class=p>()</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h6 id=trestle.core.models.elements.ElementPath.find_last_file_in_path class="doc doc-heading"> <code class="highlight language-python"><span class=n>find_last_file_in_path</span><span class=p>(</span><span class=n>content_type</span><span class=p>,</span> <span class=n>model_dir</span><span class=p>)</span></code> <a href=#trestle.core.models.elements.ElementPath.find_last_file_in_path class=headerlink title="Permanent link">¤</a></h6> <div class="doc doc-contents "> <p>Find the last (nearest) existing file in the element path leading to this element.</p> <details class=quote> <summary>Source code in <code>trestle/core/models/elements.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>270</span>
<span class=normal>271</span>
<span class=normal>272</span>
<span class=normal>273</span>
<span class=normal>274</span>
<span class=normal>275</span>
<span class=normal>276</span>
<span class=normal>277</span>
<span class=normal>278</span>
<span class=normal>279</span>
<span class=normal>280</span>
<span class=normal>281</span>
<span class=normal>282</span>
<span class=normal>283</span>
<span class=normal>284</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>find_last_file_in_path</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>content_type</span><span class=p>:</span> <span class=n>FileContentType</span><span class=p>,</span> <span class=n>model_dir</span><span class=p>:</span> <span class=n>pathlib</span><span class=o>.</span><span class=n>Path</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>pathlib</span><span class=o>.</span><span class=n>Path</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Find the last (nearest) existing file in the element path leading to this element.&quot;&quot;&quot;</span>
    <span class=c1># model dir is the top level dir for this model, e.g. catalogs/mycat</span>
    <span class=n>path</span> <span class=o>=</span> <span class=n>model_dir</span>
    <span class=n>extension</span> <span class=o>=</span> <span class=n>FileContentType</span><span class=o>.</span><span class=n>to_file_extension</span><span class=p>(</span><span class=n>content_type</span><span class=p>)</span>
    <span class=n>good_model</span><span class=p>:</span> <span class=n>pathlib</span><span class=o>.</span><span class=n>Path</span> <span class=o>=</span> <span class=kc>None</span>
    <span class=k>for</span> <span class=n>element</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>_path</span><span class=p>:</span>
        <span class=k>if</span> <span class=n>element</span> <span class=o>==</span> <span class=s1>&#39;*&#39;</span><span class=p>:</span>
            <span class=k>break</span>
        <span class=n>model_file</span> <span class=o>=</span> <span class=p>(</span><span class=n>path</span> <span class=o>/</span> <span class=n>element</span><span class=p>)</span><span class=o>.</span><span class=n>with_suffix</span><span class=p>(</span><span class=n>extension</span><span class=p>)</span>
        <span class=k>if</span> <span class=ow>not</span> <span class=n>model_file</span><span class=o>.</span><span class=n>exists</span><span class=p>():</span>
            <span class=k>break</span>
        <span class=n>path</span> <span class=o>=</span> <span class=n>path</span> <span class=o>/</span> <span class=n>element</span>
        <span class=n>good_model</span> <span class=o>=</span> <span class=n>model_file</span>
    <span class=k>return</span> <span class=n>good_model</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h6 id=trestle.core.models.elements.ElementPath.get class="doc doc-heading"> <code class="highlight language-python"><span class=n>get</span><span class=p>()</span></code> <a href=#trestle.core.models.elements.ElementPath.get class=headerlink title="Permanent link">¤</a></h6> <div class="doc doc-contents "> <p>Return the path parts as a list.</p> <details class=quote> <summary>Source code in <code>trestle/core/models/elements.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>74</span>
<span class=normal>75</span>
<span class=normal>76</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>get</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>List</span><span class=p>[</span><span class=nb>str</span><span class=p>]:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Return the path parts as a list.&quot;&quot;&quot;</span>
    <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_path</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h6 id=trestle.core.models.elements.ElementPath.get_element_name class="doc doc-heading"> <code class="highlight language-python"><span class=n>get_element_name</span><span class=p>()</span></code> <a href=#trestle.core.models.elements.ElementPath.get_element_name class=headerlink title="Permanent link">¤</a></h6> <div class="doc doc-contents "> <p>Return the element alias name from the path.</p> <p>Essentailly this the last part of the element path</p> <details class=quote> <summary>Source code in <code>trestle/core/models/elements.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>231</span>
<span class=normal>232</span>
<span class=normal>233</span>
<span class=normal>234</span>
<span class=normal>235</span>
<span class=normal>236</span>
<span class=normal>237</span>
<span class=normal>238</span>
<span class=normal>239</span>
<span class=normal>240</span>
<span class=normal>241</span>
<span class=normal>242</span>
<span class=normal>243</span>
<span class=normal>244</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>get_element_name</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Return the element alias name from the path.</span>

<span class=sd>    Essentailly this the last part of the element path</span>
<span class=sd>    &quot;&quot;&quot;</span>
    <span class=c1># if it is available then return otherwise compute</span>
    <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>_element_name</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
        <span class=n>element_name</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>get_last</span><span class=p>()</span>
        <span class=k>if</span> <span class=n>element_name</span> <span class=o>==</span> <span class=bp>self</span><span class=o>.</span><span class=n>WILDCARD</span><span class=p>:</span>
            <span class=n>element_name</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_path</span><span class=p>[</span><span class=o>-</span><span class=mi>2</span><span class=p>]</span>

        <span class=bp>self</span><span class=o>.</span><span class=n>_element_name</span> <span class=o>=</span> <span class=n>element_name</span>

    <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_element_name</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h6 id=trestle.core.models.elements.ElementPath.get_first class="doc doc-heading"> <code class="highlight language-python"><span class=n>get_first</span><span class=p>()</span></code> <a href=#trestle.core.models.elements.ElementPath.get_first class=headerlink title="Permanent link">¤</a></h6> <div class="doc doc-contents "> <p>Return the first part of the path.</p> <details class=quote> <summary>Source code in <code>trestle/core/models/elements.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>218</span>
<span class=normal>219</span>
<span class=normal>220</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>get_first</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Return the first part of the path.&quot;&quot;&quot;</span>
    <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_path</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h6 id=trestle.core.models.elements.ElementPath.get_full class="doc doc-heading"> <code class="highlight language-python"><span class=n>get_full</span><span class=p>()</span></code> <a href=#trestle.core.models.elements.ElementPath.get_full class=headerlink title="Permanent link">¤</a></h6> <div class="doc doc-contents "> <p>Return the full path including parent path parts as a dot separated str.</p> <details class=quote> <summary>Source code in <code>trestle/core/models/elements.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>226</span>
<span class=normal>227</span>
<span class=normal>228</span>
<span class=normal>229</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>get_full</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Return the full path including parent path parts as a dot separated str.&quot;&quot;&quot;</span>
    <span class=n>all_parts</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>get_full_path_parts</span><span class=p>()</span>
    <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>PATH_SEPARATOR</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>all_parts</span><span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h6 id=trestle.core.models.elements.ElementPath.get_full_path_parts class="doc doc-heading"> <code class="highlight language-python"><span class=n>get_full_path_parts</span><span class=p>()</span></code> <a href=#trestle.core.models.elements.ElementPath.get_full_path_parts class=headerlink title="Permanent link">¤</a></h6> <div class="doc doc-contents "> <p>Get full path parts to the element including parent path parts as a list.</p> <details class=quote> <summary>Source code in <code>trestle/core/models/elements.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>246</span>
<span class=normal>247</span>
<span class=normal>248</span>
<span class=normal>249</span>
<span class=normal>250</span>
<span class=normal>251</span>
<span class=normal>252</span>
<span class=normal>253</span>
<span class=normal>254</span>
<span class=normal>255</span>
<span class=normal>256</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>get_full_path_parts</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>List</span><span class=p>[</span><span class=nb>str</span><span class=p>]:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Get full path parts to the element including parent path parts as a list.&quot;&quot;&quot;</span>
    <span class=n>path_parts</span> <span class=o>=</span> <span class=p>[]</span>
    <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>get_parent</span><span class=p>()</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span><span class=p>:</span>
        <span class=n>parent_path_parts</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>get_parent</span><span class=p>()</span><span class=o>.</span><span class=n>get_full_path_parts</span><span class=p>()</span>
        <span class=n>path_parts</span><span class=o>.</span><span class=n>extend</span><span class=p>(</span><span class=n>parent_path_parts</span><span class=p>)</span>
        <span class=n>path_parts</span><span class=o>.</span><span class=n>extend</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>get</span><span class=p>()[</span><span class=mi>1</span><span class=p>:])</span>  <span class=c1># don&#39;t use the first part</span>
    <span class=k>else</span><span class=p>:</span>
        <span class=n>path_parts</span><span class=o>.</span><span class=n>extend</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>get</span><span class=p>())</span>

    <span class=k>return</span> <span class=n>path_parts</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h6 id=trestle.core.models.elements.ElementPath.get_last class="doc doc-heading"> <code class="highlight language-python"><span class=n>get_last</span><span class=p>()</span></code> <a href=#trestle.core.models.elements.ElementPath.get_last class=headerlink title="Permanent link">¤</a></h6> <div class="doc doc-contents "> <p>Return the last part of the path.</p> <details class=quote> <summary>Source code in <code>trestle/core/models/elements.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>222</span>
<span class=normal>223</span>
<span class=normal>224</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>get_last</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Return the last part of the path.&quot;&quot;&quot;</span>
    <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_path</span><span class=p>[</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h6 id=trestle.core.models.elements.ElementPath.get_obm_wrapped_type class="doc doc-heading"> <code class="highlight language-python"><span class=n>get_obm_wrapped_type</span><span class=p>(</span><span class=n>root_model</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>use_parent</span><span class=o>=</span><span class=kc>False</span><span class=p>)</span></code> <a href=#trestle.core.models.elements.ElementPath.get_obm_wrapped_type class=headerlink title="Permanent link">¤</a></h6> <div class="doc doc-contents "> <p>Get the type of the element. Wraps the collection type in an OscalBaseModel as a <strong>root</strong> element.</p> <p>This should principally be used for validating content.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>root_model</code> </td> <td> <code><span title=typing.Optional>Optional</span>[<span title=typing.Type>Type</span>[<span title=typing.Any>Any</span>]]</code> </td> <td> <div class=doc-md-description> <p>An OscalBaseModel Type from which to base the approach on.</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>use_parent</code> </td> <td> <code><span title=bool>bool</span></code> </td> <td> <div class=doc-md-description> <p>Whether or not to normalise the full path across parent ElementPaths, default to not.</p> </div> </td> <td> <code>False</code> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><span title=typing.Type>Type</span>[<a class="autorefs autorefs-internal" title="OscalBaseModel (trestle.core.base_model.OscalBaseModel)" href=../../base_model/#trestle.core.base_model.OscalBaseModel>OscalBaseModel</a>]</code> </td> <td> <div class=doc-md-description> <p>The type of the model whether wrapped or not as an OscalBaseModel.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>trestle/core/models/elements.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>138</span>
<span class=normal>139</span>
<span class=normal>140</span>
<span class=normal>141</span>
<span class=normal>142</span>
<span class=normal>143</span>
<span class=normal>144</span>
<span class=normal>145</span>
<span class=normal>146</span>
<span class=normal>147</span>
<span class=normal>148</span>
<span class=normal>149</span>
<span class=normal>150</span>
<span class=normal>151</span>
<span class=normal>152</span>
<span class=normal>153</span>
<span class=normal>154</span>
<span class=normal>155</span>
<span class=normal>156</span>
<span class=normal>157</span>
<span class=normal>158</span>
<span class=normal>159</span>
<span class=normal>160</span>
<span class=normal>161</span>
<span class=normal>162</span>
<span class=normal>163</span>
<span class=normal>164</span>
<span class=normal>165</span>
<span class=normal>166</span>
<span class=normal>167</span>
<span class=normal>168</span>
<span class=normal>169</span>
<span class=normal>170</span>
<span class=normal>171</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>get_obm_wrapped_type</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span>
                         <span class=n>root_model</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=n>Type</span><span class=p>[</span><span class=n>Any</span><span class=p>]]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
                         <span class=n>use_parent</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Type</span><span class=p>[</span><span class=n>OscalBaseModel</span><span class=p>]:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Get the type of the element. Wraps the collection type in an OscalBaseModel as a __root__ element.</span>

<span class=sd>    This should principally be used for validating content.</span>

<span class=sd>    Args:</span>
<span class=sd>        root_model: An OscalBaseModel Type from which to base the approach on.</span>
<span class=sd>        use_parent: Whether or not to normalise the full path across parent ElementPaths, default to not.</span>

<span class=sd>    Returns:</span>
<span class=sd>        The type of the model whether wrapped or not as an OscalBaseModel.</span>
<span class=sd>    &quot;&quot;&quot;</span>
    <span class=n>base_type</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>get_type</span><span class=p>(</span><span class=n>root_model</span><span class=p>,</span> <span class=n>use_parent</span><span class=p>)</span>
    <span class=c1># Get an outer model type.</span>
    <span class=n>origin_type</span> <span class=o>=</span> <span class=n>utils</span><span class=o>.</span><span class=n>get_origin</span><span class=p>(</span><span class=n>base_type</span><span class=p>)</span>

    <span class=k>if</span> <span class=n>origin_type</span> <span class=ow>in</span> <span class=p>[</span><span class=nb>list</span><span class=p>,</span> <span class=nb>dict</span><span class=p>]:</span>
        <span class=c1># OSCAL does not support collections of collections directly. We should not hit this scenario</span>
        <span class=n>collection_name</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>get_last</span><span class=p>()</span>
        <span class=k>if</span> <span class=n>collection_name</span> <span class=o>==</span> <span class=bp>self</span><span class=o>.</span><span class=n>WILDCARD</span><span class=p>:</span>
            <span class=n>logger</span><span class=o>.</span><span class=n>critical</span><span class=p>(</span><span class=s1>&#39;Unexpected error in type system when inferring type from element path.&#39;</span><span class=p>)</span>
            <span class=n>logger</span><span class=o>.</span><span class=n>critical</span><span class=p>(</span><span class=s1>&#39;Please report this issue.&#39;</span><span class=p>)</span>
            <span class=k>raise</span> <span class=n>TrestleError</span><span class=p>(</span><span class=s1>&#39;Unknown error inferring type from element path.&#39;</span><span class=p>)</span>
        <span class=c1># Final path must be the alias</span>

        <span class=n>new_base_type</span> <span class=o>=</span> <span class=n>create_model</span><span class=p>(</span>
            <span class=n>str_utils</span><span class=o>.</span><span class=n>alias_to_classname</span><span class=p>(</span><span class=n>collection_name</span><span class=p>,</span> <span class=n>AliasMode</span><span class=o>.</span><span class=n>JSON</span><span class=p>),</span>
            <span class=n>__base__</span><span class=o>=</span><span class=n>OscalBaseModel</span><span class=p>,</span>
            <span class=n>__root__</span><span class=o>=</span><span class=p>(</span><span class=n>base_type</span><span class=p>,</span> <span class=o>...</span><span class=p>)</span>
        <span class=p>)</span>
        <span class=k>return</span> <span class=n>new_base_type</span>
    <span class=k>return</span> <span class=n>base_type</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h6 id=trestle.core.models.elements.ElementPath.get_parent class="doc doc-heading"> <code class="highlight language-python"><span class=n>get_parent</span><span class=p>()</span></code> <a href=#trestle.core.models.elements.ElementPath.get_parent class=headerlink title="Permanent link">¤</a></h6> <div class="doc doc-contents "> <p>Return the parent path.</p> <p>It can be None or a valid ElementPath</p> <details class=quote> <summary>Source code in <code>trestle/core/models/elements.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>211</span>
<span class=normal>212</span>
<span class=normal>213</span>
<span class=normal>214</span>
<span class=normal>215</span>
<span class=normal>216</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>get_parent</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=s1>&#39;ElementPath&#39;</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Return the parent path.</span>

<span class=sd>    It can be None or a valid ElementPath</span>
<span class=sd>    &quot;&quot;&quot;</span>
    <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_parent_path</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h6 id=trestle.core.models.elements.ElementPath.get_preceding_path class="doc doc-heading"> <code class="highlight language-python"><span class=n>get_preceding_path</span><span class=p>()</span></code> <a href=#trestle.core.models.elements.ElementPath.get_preceding_path class=headerlink title="Permanent link">¤</a></h6> <div class="doc doc-contents "> <p>Return the element path to the preceding element in the path.</p> <details class=quote> <summary>Source code in <code>trestle/core/models/elements.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>258</span>
<span class=normal>259</span>
<span class=normal>260</span>
<span class=normal>261</span>
<span class=normal>262</span>
<span class=normal>263</span>
<span class=normal>264</span>
<span class=normal>265</span>
<span class=normal>266</span>
<span class=normal>267</span>
<span class=normal>268</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>get_preceding_path</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=s1>&#39;ElementPath&#39;</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Return the element path to the preceding element in the path.&quot;&quot;&quot;</span>
    <span class=c1># if it is available then return otherwise compute</span>
    <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>_preceding_path</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
        <span class=n>path_parts</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>get_full_path_parts</span><span class=p>()</span>

        <span class=k>if</span> <span class=nb>len</span><span class=p>(</span><span class=n>path_parts</span><span class=p>)</span> <span class=o>&gt;</span> <span class=mi>1</span><span class=p>:</span>
            <span class=n>prec_path_parts</span> <span class=o>=</span> <span class=n>path_parts</span><span class=p>[:</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>_preceding_path</span> <span class=o>=</span> <span class=n>ElementPath</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>PATH_SEPARATOR</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>prec_path_parts</span><span class=p>))</span>

    <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_preceding_path</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h6 id=trestle.core.models.elements.ElementPath.get_type class="doc doc-heading"> <code class="highlight language-python"><span class=n>get_type</span><span class=p>(</span><span class=n>root_model</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>use_parent</span><span class=o>=</span><span class=kc>False</span><span class=p>)</span></code> <a href=#trestle.core.models.elements.ElementPath.get_type class=headerlink title="Permanent link">¤</a></h6> <div class="doc doc-contents "> <p>Get the type of an element.</p> <p>If possible the model type will be derived from one of the top level models, otherwise a 'root model' can be passed for situations where this is not possible.</p> <p>This type path should <em>NOT</em> have wild cards in it. It <em>may</em> have* indices. Valid Examples: catalog.metadata catalog.groups catalog.groups.group catalog catalog.groups.0</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>root_model</code> </td> <td> <code><span title=typing.Optional>Optional</span>[<span title=typing.Type>Type</span>[<span title=typing.Any>Any</span>]]</code> </td> <td> <div class=doc-md-description> <p>An OscalBaseModel Type from which to base the approach on.</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>use_parent</code> </td> <td> <code><span title=bool>bool</span></code> </td> <td> <div class=doc-md-description> <p>Whether or not to normalise the full path across parent ElementPaths, default to not.</p> </div> </td> <td> <code>False</code> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><span title=typing.Type>Type</span>[<span title=typing.Any>Any</span>]</code> </td> <td> <div class=doc-md-description> <p>The type of the model whether or not it is an OscalBaseModel or not.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>trestle/core/models/elements.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 78</span>
<span class=normal> 79</span>
<span class=normal> 80</span>
<span class=normal> 81</span>
<span class=normal> 82</span>
<span class=normal> 83</span>
<span class=normal> 84</span>
<span class=normal> 85</span>
<span class=normal> 86</span>
<span class=normal> 87</span>
<span class=normal> 88</span>
<span class=normal> 89</span>
<span class=normal> 90</span>
<span class=normal> 91</span>
<span class=normal> 92</span>
<span class=normal> 93</span>
<span class=normal> 94</span>
<span class=normal> 95</span>
<span class=normal> 96</span>
<span class=normal> 97</span>
<span class=normal> 98</span>
<span class=normal> 99</span>
<span class=normal>100</span>
<span class=normal>101</span>
<span class=normal>102</span>
<span class=normal>103</span>
<span class=normal>104</span>
<span class=normal>105</span>
<span class=normal>106</span>
<span class=normal>107</span>
<span class=normal>108</span>
<span class=normal>109</span>
<span class=normal>110</span>
<span class=normal>111</span>
<span class=normal>112</span>
<span class=normal>113</span>
<span class=normal>114</span>
<span class=normal>115</span>
<span class=normal>116</span>
<span class=normal>117</span>
<span class=normal>118</span>
<span class=normal>119</span>
<span class=normal>120</span>
<span class=normal>121</span>
<span class=normal>122</span>
<span class=normal>123</span>
<span class=normal>124</span>
<span class=normal>125</span>
<span class=normal>126</span>
<span class=normal>127</span>
<span class=normal>128</span>
<span class=normal>129</span>
<span class=normal>130</span>
<span class=normal>131</span>
<span class=normal>132</span>
<span class=normal>133</span>
<span class=normal>134</span>
<span class=normal>135</span>
<span class=normal>136</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>get_type</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>root_model</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=n>Type</span><span class=p>[</span><span class=n>Any</span><span class=p>]]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>use_parent</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Type</span><span class=p>[</span><span class=n>Any</span><span class=p>]:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Get the type of an element.</span>

<span class=sd>    If possible the model type will be derived from one of the top level models,</span>
<span class=sd>    otherwise a &#39;root model&#39; can be passed for situations where this is not possible.</span>

<span class=sd>    This type path should *NOT* have wild cards in it. It *may* have* indices.</span>
<span class=sd>    Valid Examples:</span>
<span class=sd>        catalog.metadata</span>
<span class=sd>        catalog.groups</span>
<span class=sd>        catalog.groups.group</span>
<span class=sd>        catalog</span>
<span class=sd>        catalog.groups.0</span>

<span class=sd>    Args:</span>
<span class=sd>        root_model: An OscalBaseModel Type from which to base the approach on.</span>
<span class=sd>        use_parent: Whether or not to normalise the full path across parent ElementPaths, default to not.</span>

<span class=sd>    Returns:</span>
<span class=sd>        The type of the model whether or not it is an OscalBaseModel or not.</span>
<span class=sd>    &quot;&quot;&quot;</span>
    <span class=n>effective_path</span><span class=p>:</span> <span class=n>List</span><span class=p>[</span><span class=nb>str</span><span class=p>]</span>
    <span class=k>if</span> <span class=n>use_parent</span><span class=p>:</span>
        <span class=n>effective_path</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>get_full_path_parts</span><span class=p>()</span>
    <span class=k>else</span><span class=p>:</span>
        <span class=n>effective_path</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_path</span>

    <span class=k>if</span> <span class=ow>not</span> <span class=n>root_model</span><span class=p>:</span>
        <span class=c1># lookup root model from top level oscal models or fail</span>
        <span class=n>prev_model</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_top_level_type_lookup</span><span class=p>(</span><span class=n>effective_path</span><span class=p>[</span><span class=mi>0</span><span class=p>])</span>
    <span class=k>else</span><span class=p>:</span>
        <span class=n>prev_model</span> <span class=o>=</span> <span class=n>root_model</span>
    <span class=k>if</span> <span class=nb>len</span><span class=p>(</span><span class=n>effective_path</span><span class=p>)</span> <span class=o>==</span> <span class=mi>1</span><span class=p>:</span>
        <span class=k>return</span> <span class=n>prev_model</span>
    <span class=c1># variables</span>
    <span class=c1># for current_element_str in effective_path[1:]:</span>
    <span class=k>for</span> <span class=n>current_element_str</span> <span class=ow>in</span> <span class=n>effective_path</span><span class=p>[</span><span class=mi>1</span><span class=p>:]:</span>
        <span class=c1># Determine if the parent model is a collection.</span>
        <span class=k>if</span> <span class=n>utils</span><span class=o>.</span><span class=n>is_collection_field_type</span><span class=p>(</span><span class=n>prev_model</span><span class=p>):</span>
            <span class=n>inner_model</span> <span class=o>=</span> <span class=n>utils</span><span class=o>.</span><span class=n>get_inner_type</span><span class=p>(</span><span class=n>prev_model</span><span class=p>)</span>
            <span class=n>inner_class_name</span> <span class=o>=</span> <span class=n>classname_to_alias</span><span class=p>(</span><span class=n>inner_model</span><span class=o>.</span><span class=vm>__name__</span><span class=p>,</span> <span class=n>AliasMode</span><span class=o>.</span><span class=n>JSON</span><span class=p>)</span>
            <span class=c1># Assert that the current name fits an expected form.</span>
            <span class=c1># Valid choices here are *, integer (for arrays) and the inner model alias</span>
            <span class=k>if</span> <span class=p>(</span><span class=n>inner_class_name</span> <span class=o>==</span> <span class=n>current_element_str</span> <span class=ow>or</span> <span class=n>current_element_str</span> <span class=o>==</span> <span class=bp>self</span><span class=o>.</span><span class=n>WILDCARD</span>
                    <span class=ow>or</span> <span class=n>current_element_str</span><span class=o>.</span><span class=n>isnumeric</span><span class=p>()):</span>
                <span class=n>prev_model</span> <span class=o>=</span> <span class=n>inner_model</span>

            <span class=k>else</span><span class=p>:</span>
                <span class=k>raise</span> <span class=n>TrestleError</span><span class=p>(</span><span class=s1>&#39;Unexpected key in element path when finding type.&#39;</span><span class=p>)</span>

        <span class=k>else</span><span class=p>:</span>
            <span class=c1># Indices, * are not allowed on non-collection types</span>
            <span class=k>if</span> <span class=n>current_element_str</span> <span class=o>==</span> <span class=bp>self</span><span class=o>.</span><span class=n>WILDCARD</span><span class=p>:</span>
                <span class=k>raise</span> <span class=n>TrestleError</span><span class=p>(</span>
                    <span class=s1>&#39;Wild card in unexpected position when trying to find class type.&#39;</span>
                    <span class=o>+</span> <span class=s1>&#39; Element path type lookup can only occur where a single type can be identified.&#39;</span>
                <span class=p>)</span>
            <span class=n>prev_model</span> <span class=o>=</span> <span class=n>prev_model</span><span class=o>.</span><span class=n>alias_to_field_map</span><span class=p>()[</span><span class=n>current_element_str</span><span class=p>]</span><span class=o>.</span><span class=n>outer_type_</span>
    <span class=k>return</span> <span class=n>prev_model</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h6 id=trestle.core.models.elements.ElementPath.is_multipart class="doc doc-heading"> <code class="highlight language-python"><span class=n>is_multipart</span><span class=p>()</span></code> <a href=#trestle.core.models.elements.ElementPath.is_multipart class=headerlink title="Permanent link">¤</a></h6> <div class="doc doc-contents "> <p>Assert whether or not an element path is multiple parts.</p> <p>Originally element paths had to have multiple paths. This provides a check for higher level code that still has that requirement.</p> <details class=single-part open> <summary>Single part</summary> <p>catalog control assessment-results</p> </details> <details class=multipart open> <summary>Multipart</summary> <p>catalog.metadata catalog.controls.control</p> </details> <details class=quote> <summary>Source code in <code>trestle/core/models/elements.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>190</span>
<span class=normal>191</span>
<span class=normal>192</span>
<span class=normal>193</span>
<span class=normal>194</span>
<span class=normal>195</span>
<span class=normal>196</span>
<span class=normal>197</span>
<span class=normal>198</span>
<span class=normal>199</span>
<span class=normal>200</span>
<span class=normal>201</span>
<span class=normal>202</span>
<span class=normal>203</span>
<span class=normal>204</span>
<span class=normal>205</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>is_multipart</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>bool</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Assert whether or not an element path is multiple parts.</span>

<span class=sd>    Originally element paths had to have multiple paths.</span>
<span class=sd>    This provides a check for higher level code that still has that requirement.</span>

<span class=sd>    Single part:</span>
<span class=sd>        catalog</span>
<span class=sd>        control</span>
<span class=sd>        assessment-results</span>

<span class=sd>    Multipart:</span>
<span class=sd>        catalog.metadata</span>
<span class=sd>        catalog.controls.control</span>
<span class=sd>    &quot;&quot;&quot;</span>
    <span class=k>return</span> <span class=nb>len</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>_path</span><span class=p>)</span> <span class=o>&gt;</span> <span class=mi>1</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h6 id=trestle.core.models.elements.ElementPath.make_absolute class="doc doc-heading"> <code class="highlight language-python"><span class=n>make_absolute</span><span class=p>(</span><span class=n>model_dir</span><span class=p>,</span> <span class=n>reference_dir</span><span class=p>)</span></code> <a href=#trestle.core.models.elements.ElementPath.make_absolute class=headerlink title="Permanent link">¤</a></h6> <div class="doc doc-contents "> <p>Make the parts absolute from the top model dir.</p> <details class=quote> <summary>Source code in <code>trestle/core/models/elements.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>286</span>
<span class=normal>287</span>
<span class=normal>288</span>
<span class=normal>289</span>
<span class=normal>290</span>
<span class=normal>291</span>
<span class=normal>292</span>
<span class=normal>293</span>
<span class=normal>294</span>
<span class=normal>295</span>
<span class=normal>296</span>
<span class=normal>297</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>make_absolute</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>model_dir</span><span class=p>:</span> <span class=n>pathlib</span><span class=o>.</span><span class=n>Path</span><span class=p>,</span> <span class=n>reference_dir</span><span class=p>:</span> <span class=n>pathlib</span><span class=o>.</span><span class=n>Path</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Make the parts absolute from the top model dir.&quot;&quot;&quot;</span>
    <span class=c1># Match the current relative element path to the model directory and reference directory</span>
    <span class=c1># If the element path is partial and doesn&#39;t connect to the top of the model,</span>
    <span class=c1># need to deduce absolute element path from the model_dir and the reference directory</span>
    <span class=c1># that corresponds to the root of the element path</span>

    <span class=c1># if first element is a model type it is already absolute</span>
    <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>_path</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span> <span class=ow>not</span> <span class=ow>in</span> <span class=n>const</span><span class=o>.</span><span class=n>MODEL_TYPE_LIST</span><span class=p>:</span>
        <span class=n>rel_path</span> <span class=o>=</span> <span class=nb>list</span><span class=p>(</span><span class=n>reference_dir</span><span class=o>.</span><span class=n>relative_to</span><span class=p>(</span><span class=n>model_dir</span><span class=p>)</span><span class=o>.</span><span class=n>parts</span><span class=p>)</span>
        <span class=n>rel_path</span><span class=o>.</span><span class=n>extend</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>_path</span><span class=p>)</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_path</span> <span class=o>=</span> <span class=n>rel_path</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h6 id=trestle.core.models.elements.ElementPath.make_relative class="doc doc-heading"> <code class="highlight language-python"><span class=n>make_relative</span><span class=p>(</span><span class=n>model_relative_path</span><span class=p>)</span></code> <a href=#trestle.core.models.elements.ElementPath.make_relative class=headerlink title="Permanent link">¤</a></h6> <div class="doc doc-contents "> <p>Make the parts relative to the model path.</p> <details class=quote> <summary>Source code in <code>trestle/core/models/elements.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>299</span>
<span class=normal>300</span>
<span class=normal>301</span>
<span class=normal>302</span>
<span class=normal>303</span>
<span class=normal>304</span>
<span class=normal>305</span>
<span class=normal>306</span>
<span class=normal>307</span>
<span class=normal>308</span>
<span class=normal>309</span>
<span class=normal>310</span>
<span class=normal>311</span>
<span class=normal>312</span>
<span class=normal>313</span>
<span class=normal>314</span>
<span class=normal>315</span>
<span class=normal>316</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>make_relative</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>model_relative_path</span><span class=p>:</span> <span class=n>pathlib</span><span class=o>.</span><span class=n>Path</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>int</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Make the parts relative to the model path.&quot;&quot;&quot;</span>
    <span class=c1># The element path should currently be absolute</span>
    <span class=c1># The model relative path should be relative to the top leve of the model</span>
    <span class=c1># Change the element path to be relative to the model being loaded</span>
    <span class=c1># Returns 0 on success and 1 on failur</span>
    <span class=n>rel_path_parts</span> <span class=o>=</span> <span class=n>model_relative_path</span><span class=o>.</span><span class=n>parts</span><span class=p>[:</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span>
    <span class=n>n_rel_parts</span> <span class=o>=</span> <span class=nb>len</span><span class=p>(</span><span class=n>rel_path_parts</span><span class=p>)</span>
    <span class=c1># the element path can&#39;t start above the model path</span>
    <span class=k>if</span> <span class=n>n_rel_parts</span> <span class=o>&gt;=</span> <span class=nb>len</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>_path</span><span class=p>):</span>
        <span class=k>return</span> <span class=mi>1</span>
    <span class=c1># confirm the leading parts match</span>
    <span class=k>for</span> <span class=n>ii</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>n_rel_parts</span><span class=p>):</span>
        <span class=k>if</span> <span class=n>rel_path_parts</span><span class=p>[</span><span class=n>ii</span><span class=p>]</span> <span class=o>!=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_path</span><span class=p>[</span><span class=n>ii</span><span class=p>]:</span>
            <span class=k>return</span> <span class=mi>1</span>
    <span class=c1># chop off the leading parts of the absolute element path</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>_path</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_path</span><span class=p>[</span><span class=n>n_rel_parts</span><span class=p>:]</span>
    <span class=k>return</span> <span class=mi>0</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h6 id=trestle.core.models.elements.ElementPath.to_file_path class="doc doc-heading"> <code class="highlight language-python"><span class=n>to_file_path</span><span class=p>(</span><span class=n>content_type</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>root_dir</span><span class=o>=</span><span class=s1>&#39;&#39;</span><span class=p>)</span></code> <a href=#trestle.core.models.elements.ElementPath.to_file_path class=headerlink title="Permanent link">¤</a></h6> <div class="doc doc-contents "> <p>Convert to a file or directory path for the element path.</p> <p>if content_type is not passed, it will return a path for directory</p> <details class=quote> <summary>Source code in <code>trestle/core/models/elements.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>318</span>
<span class=normal>319</span>
<span class=normal>320</span>
<span class=normal>321</span>
<span class=normal>322</span>
<span class=normal>323</span>
<span class=normal>324</span>
<span class=normal>325</span>
<span class=normal>326</span>
<span class=normal>327</span>
<span class=normal>328</span>
<span class=normal>329</span>
<span class=normal>330</span>
<span class=normal>331</span>
<span class=normal>332</span>
<span class=normal>333</span>
<span class=normal>334</span>
<span class=normal>335</span>
<span class=normal>336</span>
<span class=normal>337</span>
<span class=normal>338</span>
<span class=normal>339</span>
<span class=normal>340</span>
<span class=normal>341</span>
<span class=normal>342</span>
<span class=normal>343</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>to_file_path</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>content_type</span><span class=p>:</span> <span class=n>FileContentType</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>root_dir</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=s1>&#39;&#39;</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>pathlib</span><span class=o>.</span><span class=n>Path</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Convert to a file or directory path for the element path.</span>

<span class=sd>    if content_type is not passed, it will return a path for directory</span>
<span class=sd>    &quot;&quot;&quot;</span>
    <span class=n>path_parts</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>get</span><span class=p>()</span>

    <span class=c1># skip wildcard</span>
    <span class=k>if</span> <span class=n>path_parts</span><span class=p>[</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span> <span class=o>==</span> <span class=n>ElementPath</span><span class=o>.</span><span class=n>WILDCARD</span><span class=p>:</span>
        <span class=n>path_parts</span> <span class=o>=</span> <span class=n>path_parts</span><span class=p>[:</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span>

    <span class=k>if</span> <span class=n>root_dir</span> <span class=o>!=</span> <span class=s1>&#39;&#39;</span><span class=p>:</span>
        <span class=n>path_parts</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span> <span class=o>=</span> <span class=n>root_dir</span>

    <span class=n>path_str</span> <span class=o>=</span> <span class=s1>&#39;/&#39;</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>path_parts</span><span class=p>)</span>

    <span class=c1># add file extension if required</span>
    <span class=c1># this will be omitted if it is a dir path</span>
    <span class=k>if</span> <span class=n>content_type</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span><span class=p>:</span>
        <span class=n>file_extension</span> <span class=o>=</span> <span class=n>FileContentType</span><span class=o>.</span><span class=n>to_file_extension</span><span class=p>(</span><span class=n>content_type</span><span class=p>)</span>
        <span class=n>path_str</span> <span class=o>=</span> <span class=n>path_str</span> <span class=o>+</span> <span class=n>file_extension</span>

    <span class=c1># prepare the path</span>
    <span class=n>file_path</span><span class=p>:</span> <span class=n>pathlib</span><span class=o>.</span><span class=n>Path</span> <span class=o>=</span> <span class=n>pathlib</span><span class=o>.</span><span class=n>Path</span><span class=p>(</span><span class=sa>f</span><span class=s1>&#39;./</span><span class=si>{</span><span class=n>path_str</span><span class=si>}</span><span class=s1>&#39;</span><span class=p>)</span>

    <span class=k>return</span> <span class=n>file_path</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h6 id=trestle.core.models.elements.ElementPath.to_root_path class="doc doc-heading"> <code class="highlight language-python"><span class=n>to_root_path</span><span class=p>(</span><span class=n>content_type</span><span class=o>=</span><span class=kc>None</span><span class=p>)</span></code> <a href=#trestle.core.models.elements.ElementPath.to_root_path class=headerlink title="Permanent link">¤</a></h6> <div class="doc doc-contents "> <p>Convert to a file path for the element root.</p> <details class=quote> <summary>Source code in <code>trestle/core/models/elements.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>345</span>
<span class=normal>346</span>
<span class=normal>347</span>
<span class=normal>348</span>
<span class=normal>349</span>
<span class=normal>350</span>
<span class=normal>351</span>
<span class=normal>352</span>
<span class=normal>353</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>to_root_path</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>content_type</span><span class=p>:</span> <span class=n>FileContentType</span> <span class=o>=</span> <span class=kc>None</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>pathlib</span><span class=o>.</span><span class=n>Path</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Convert to a file path for the element root.&quot;&quot;&quot;</span>
    <span class=n>path_str</span> <span class=o>=</span> <span class=sa>f</span><span class=s1>&#39;./</span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>get_first</span><span class=p>()</span><span class=si>}</span><span class=s1>&#39;</span>
    <span class=k>if</span> <span class=n>content_type</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span><span class=p>:</span>
        <span class=n>file_extension</span> <span class=o>=</span> <span class=n>FileContentType</span><span class=o>.</span><span class=n>to_file_extension</span><span class=p>(</span><span class=n>content_type</span><span class=p>)</span>
        <span class=n>path_str</span> <span class=o>=</span> <span class=n>path_str</span> <span class=o>+</span> <span class=n>file_extension</span>

    <span class=n>file_path</span><span class=p>:</span> <span class=n>pathlib</span><span class=o>.</span><span class=n>Path</span> <span class=o>=</span> <span class=n>pathlib</span><span class=o>.</span><span class=n>Path</span><span class=p>(</span><span class=n>path_str</span><span class=p>)</span>
    <span class=k>return</span> <span class=n>file_path</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h6 id=trestle.core.models.elements.ElementPath.to_string class="doc doc-heading"> <code class="highlight language-python"><span class=n>to_string</span><span class=p>()</span></code> <a href=#trestle.core.models.elements.ElementPath.to_string class=headerlink title="Permanent link">¤</a></h6> <div class="doc doc-contents "> <p>Return the path parts as a dot-separated string.</p> <details class=quote> <summary>Source code in <code>trestle/core/models/elements.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>207</span>
<span class=normal>208</span>
<span class=normal>209</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>to_string</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Return the path parts as a dot-separated string.&quot;&quot;&quot;</span>
    <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>PATH_SEPARATOR</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>get</span><span class=p>())</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> </div> </div> </div> <h3 id=trestle.core.models.elements-functions>Functions<a href=#trestle.core.models.elements-functions class=headerlink title="Permanent link">¤</a></h3> </div> </div> </div><p>handler: python</p> <aside class=md-source-file> <span class=md-source-file__fact> <span class=md-icon title="Last update"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"/></svg> </span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date" title="October 31, 2024 02:54:37">October 31, 2024</span> </span> </aside> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <div class=md-consent data-md-component=consent id=__consent hidden> <div class=md-consent__overlay></div> <aside class=md-consent__inner> <form class="md-consent__form md-grid md-typeset" name=consent> <h4>Cookie consent</h4> <p>We use cookies to recognize your repeated visits and preferences, as well as to measure the effectiveness of our documentation and whether users find what they're searching for. With your consent, you're helping us to make our documentation better.</p> <input class=md-toggle type=checkbox id=__settings> <div class=md-consent__settings> <ul class=task-list> <li class=task-list-item> <label class=task-list-control> <input type=checkbox name=analytics checked> <span class=task-list-indicator></span> Google Analytics </label> </li> <li class=task-list-item> <label class=task-list-control> <input type=checkbox name=github checked> <span class=task-list-indicator></span> GitHub </label> </li> </ul> </div> <div class=md-consent__controls> <button class="md-button md-button--primary">Accept</button> <label class=md-button for=__settings>Manage settings</label> </div> </form> </aside> </div> <script>var consent=__md_get("__consent");if(consent)for(var input of document.forms.consent.elements)input.name&&(input.checked=consent[input.name]||!1);else"file:"!==location.protocol&&setTimeout((function(){document.querySelector("[data-md-component=consent]").hidden=!1}),250);var form=document.forms.consent;for(var action of["submit","reset"])form.addEventListener(action,(function(e){if(e.preventDefault(),"reset"===e.type)for(var n of document.forms.consent.elements)n.name&&(n.checked=!1);__md_set("__consent",Object.fromEntries(Array.from(new FormData(form).keys()).map((function(e){return[e,!0]})))),location.hash="",location.reload()}))</script> <script id=__config type=application/json>{"base": "../../../../../..", "features": ["content.code.annotate", "navigation.tabs"], "search": "../../../../../../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script> <script src=../../../../../../assets/javascripts/bundle.c8b220af.min.js></script> </body> </html>